--Query--
system stop merges test
--Result--
[]
+--------------------+
--Query--
select '-- count'
--Result--
[('-- count',)]
+--------------------+
--Query--
SELECT count(), _part FROM test GROUP BY _part ORDER BY _part
--Result--
[(100000, 'all_10_10_0'), (100000, 'all_1_1_0'), (100000, 'all_2_2_0'), (100000, 'all_3_3_0'), (100000, 'all_4_4_0'), (100000, 'all_5_5_0'), (100000, 'all_6_6_0'), (100000, 'all_7_7_0'), (100000, 'all_8_8_0'), (100000, 'all_9_9_0')]
+--------------------+
--Query--
SELECT count() > 0 AND count() < 100000, _part FROM test WHERE rand(1)%2=1 GROUP BY _part ORDER BY _part
--Result--
[(1, 'all_10_10_0'), (1, 'all_1_1_0'), (1, 'all_2_2_0'), (1, 'all_3_3_0'), (1, 'all_4_4_0'), (1, 'all_5_5_0'), (1, 'all_6_6_0'), (1, 'all_7_7_0'), (1, 'all_8_8_0'), (1, 'all_9_9_0')]
+--------------------+
--Query--
select '-- optimize_use_implicit_projections=0'
--Result--
[('-- optimize_use_implicit_projections=0',)]
+--------------------+
--Query--
SELECT count() > 0 AND count() < 100000, _part FROM test WHERE rand(2)%2=1 GROUP BY _part ORDER BY _part settings optimize_use_implicit_projections=0
--Result--
[(1, 'all_10_10_0'), (1, 'all_1_1_0'), (1, 'all_2_2_0'), (1, 'all_3_3_0'), (1, 'all_4_4_0'), (1, 'all_5_5_0'), (1, 'all_6_6_0'), (1, 'all_7_7_0'), (1, 'all_8_8_0'), (1, 'all_9_9_0')]
+--------------------+
--Query--
select '-- optimize_trivial_count_query=0'
--Result--
[('-- optimize_trivial_count_query=0',)]
+--------------------+
--Query--
SELECT count() > 0 AND count() < 100000, _part FROM test WHERE rand(3)%2=1 GROUP BY _part ORDER BY _part settings optimize_trivial_count_query=0
--Result--
[(1, 'all_10_10_0'), (1, 'all_1_1_0'), (1, 'all_2_2_0'), (1, 'all_3_3_0'), (1, 'all_4_4_0'), (1, 'all_5_5_0'), (1, 'all_6_6_0'), (1, 'all_7_7_0'), (1, 'all_8_8_0'), (1, 'all_9_9_0')]
+--------------------+
--Query--
select '-- optimize_trivial_count_query=0, optimize_use_implicit_projections=0'
--Result--
[('-- optimize_trivial_count_query=0, optimize_use_implicit_projections=0',)]
+--------------------+
--Query--
SELECT count() > 0 AND count() < 100000, _part FROM test WHERE rand(4)%2=1 GROUP BY _part ORDER BY _part settings optimize_trivial_count_query=0,optimize_use_implicit_projections=0
--Result--
[(1, 'all_10_10_0'), (1, 'all_1_1_0'), (1, 'all_2_2_0'), (1, 'all_3_3_0'), (1, 'all_4_4_0'), (1, 'all_5_5_0'), (1, 'all_6_6_0'), (1, 'all_7_7_0'), (1, 'all_8_8_0'), (1, 'all_9_9_0')]
+--------------------+
