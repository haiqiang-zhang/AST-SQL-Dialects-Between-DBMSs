--Query--
SELECT 'simple partition key:'
--Result--
[('simple partition key:',)]
+--------------------+
--Query--
SELECT toInt64(partition) as p FROM system.parts WHERE table='table1' and database=currentDatabase() ORDER BY p
--Result--
[]
+--------------------+
--Query--
select 'where id % 200 = +-2:'
--Result--
[('where id % 200 = +-2:',)]
+--------------------+
--Query--
select 'where id % 200 > 0:'
--Result--
[('where id % 200 > 0:',)]
+--------------------+
--Query--
select 'where id % 200 < 0:'
--Result--
[('where id % 200 < 0:',)]
+--------------------+
--Query--
SELECT 'tuple as partition key:'
--Result--
[('tuple as partition key:',)]
+--------------------+
--Query--
SELECT partition as p FROM system.parts WHERE table='table2' and database=currentDatabase() ORDER BY p
--Result--
[('(-1,-1)',), ('(-1,0)',), ('(-2,-2)',), ('(-2,-3)',), ('(-2,59)',), ('(-2,60)',), ('(0,-4)',), ('(0,-5)',), ('(0,-57)',), ('(0,-58)',), ('(0,4)',), ('(0,57)',), ('(0,58)',), ('(1,-61)',), ('(1,0)',), ('(1,1)',), ('(2,-59)',), ('(2,-60)',), ('(2,2)',), ('(2,3)',)]
+--------------------+
--Query--
SELECT 'recursive modulo partition key:'
--Result--
[('recursive modulo partition key:',)]
+--------------------+
--Query--
SELECT partition as p FROM system.parts WHERE table='table3' and database=currentDatabase() ORDER BY p
--Result--
[('(-1,-1,0)',), ('(-2,-2,-1)',), ('(-3,-3,-2)',), ('(-4,-4,-2)',), ('(-5,-5,-2)',), ('(-57,-7,-28)',), ('(-58,-8,-29)',), ('(-59,-9,-30)',), ('(-60,0,-30)',), ('(-61,-1,-30)',), ('(0,0,0)',), ('(0,0,0)',), ('(1,1,0)',), ('(2,2,1)',), ('(3,3,2)',), ('(4,4,2)',), ('(57,7,28)',), ('(58,8,29)',), ('(59,9,30)',), ('(60,0,30)',)]
+--------------------+
--Query--
DETACH TABLE table3
--Result--
[]
+--------------------+
--Query--
ATTACH TABLE table3
--Result--
[]
+--------------------+
--Query--
SELECT 'After detach:'
--Result--
[('After detach:',)]
+--------------------+
--Query--
SELECT partition as p FROM system.parts WHERE table='table3' and database=currentDatabase() ORDER BY p
--Result--
[('(-1,-1,0)',), ('(-2,-2,-1)',), ('(-3,-3,-2)',), ('(-4,-4,-2)',), ('(-5,-5,-2)',), ('(-57,-7,-28)',), ('(-58,-8,-29)',), ('(-59,-9,-30)',), ('(-60,0,-30)',), ('(-61,-1,-30)',), ('(0,0,0)',), ('(0,0,0)',), ('(1,1,0)',), ('(2,2,1)',), ('(3,3,2)',), ('(4,4,2)',), ('(57,7,28)',), ('(58,8,29)',), ('(59,9,30)',), ('(60,0,30)',)]
+--------------------+
--Query--
SELECT 'Indexes:'
--Result--
[('Indexes:',)]
+--------------------+
--Query--
SELECT count() FROM table4 WHERE id % 10 = 7
--Result--
[(100,)]
+--------------------+
--Query--
SELECT 'comparison:'
--Result--
[('comparison:',)]
+--------------------+
