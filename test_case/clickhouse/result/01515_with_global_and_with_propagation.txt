--Query--
with 1 as x select x
--Result--
[(1,)]
+--------------------+
--Query--
with 1 as x select * from (select x)
--Result--
[(1,)]
+--------------------+
--Query--
with 1 as x select *, x from (with 2 as x select x as y)
--Result--
[(2, 1)]
+--------------------+
--Query--
with 1 as x select x union all select x
--Result--
[(1,), (1,)]
+--------------------+
--Query--
select x from (with 1 as x select x union all with 2 as x select x) order by x
--Result--
[(1,), (2,)]
+--------------------+
--Query--
with 5 as q1, x as (select number+100 as b, number as a from numbers(10) where number > q1) select * from x
--Result--
[(106, 6), (107, 7), (108, 8), (109, 9)]
+--------------------+
--Query--
explain syntax with 1 as x select x
--Result--
[('WITH 1 AS x',), ('SELECT x',)]
+--------------------+
--Query--
explain syntax with 1 as x select * from (select x)
--Result--
[('WITH 1 AS x',), ('SELECT x',), ('FROM',), ('(',), ('    WITH 1 AS x',), ('    SELECT x',), (')',)]
+--------------------+
--Query--
explain syntax with 1 as x select *, x from (with 2 as x select x as y)
--Result--
[('WITH 1 AS x',), ('SELECT',), ('    y,',), ('    x',), ('FROM',), ('(',), ('    WITH 2 AS x',), ('    SELECT 2 AS y',), (')',)]
+--------------------+
--Query--
explain syntax with 1 as x select x union all select x
--Result--
[('WITH 1 AS x',), ('SELECT x',), ('UNION ALL',), ('WITH 1 AS x',), ('SELECT x',)]
+--------------------+
--Query--
explain syntax with 1 as x select x union all with 2 as x select x
--Result--
[('WITH 1 AS x',), ('SELECT x',), ('UNION ALL',), ('WITH 2 AS x',), ('SELECT x',)]
+--------------------+
--Query--
explain syntax with 5 as q1, x as (select number + 100 as b, number as a from numbers(10) where number > q1) select * from x
--Result--
[('WITH',), ('    5 AS q1,',), ('    x AS',), ('    (',), ('        WITH 5 AS q1',), ('        SELECT',), ('            number + 100 AS b,',), ('            number AS a',), ('        FROM numbers(10)',), ('        WHERE number > q1',), ('    )',), ('SELECT',), ('    b,',), ('    a',), ('FROM',), ('x',)]
+--------------------+
