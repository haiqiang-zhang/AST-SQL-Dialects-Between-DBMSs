--Query--
SELECT groupArray(DISTINCT toString(number % 10)) FROM numbers_mt(50000)      GROUP BY number ORDER BY number LIMIT 10     SETTINGS max_threads = 2, max_block_size = 2000
--Result--
[(['0'],), (['1'],), (['2'],), (['3'],), (['4'],), (['5'],), (['6'],), (['7'],), (['8'],), (['9'],)]
+--------------------+
--Query--
SELECT     domain, arrayUniq(groupArraySample(5, 11111)(DISTINCT subdomain)) AS example_subdomains FROM distinct_two_level GROUP BY domain ORDER BY domain, example_subdomains LIMIT 10
--Result--
[('test.com', 5), ('test.com0', 1), ('test.com0.0001', 1), ('test.com0.0002', 1), ('test.com0.0003', 1), ('test.com0.0004', 1), ('test.com0.0005', 1), ('test.com0.0006', 1), ('test.com0.0007', 1), ('test.com0.0008', 1)]
+--------------------+
