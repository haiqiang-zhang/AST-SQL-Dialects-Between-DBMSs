--Query--
EXPLAIN SYNTAX SELECT co,co2,co3,num FROM ( SELECT co,co2,co3,count() AS num FROM (SELECT dummy+1 AS co,dummy+2 AS co2 ,dummy+3 AS co3) GROUP BY cube (co,co2,co3) ) WHERE co!=0 AND co2 !=2
--Result--
[('SELECT',), ('    co,',), ('    co2,',), ('    co3,',), ('    num',), ('FROM',), ('(',), ('    SELECT',), ('        co,',), ('        co2,',), ('        co3,',), ('        count() AS num',), ('    FROM',), ('    (',), ('        SELECT',), ('            dummy + 1 AS co,',), ('            dummy + 2 AS co2,',), ('            dummy + 3 AS co3',), ('    )',), ('    GROUP BY',), ('        co,',), ('        co2,',), ('        co3',), ('        WITH CUBE',), ('    HAVING (co2 != 2) AND (co != 0)',), (')',), ('WHERE (co != 0) AND (co2 != 2)',)]
+--------------------+
--Query--
SELECT co,co2,co3,num FROM ( SELECT co,co2,co3,count() AS num FROM (SELECT dummy+1 AS co,dummy+2 AS co2 ,dummy+3 AS co3) GROUP BY cube (co,co2,co3) ) WHERE co!=0 AND co2 !=2
--Result--
[(1, 0, 3, 1), (1, 0, 0, 1)]
+--------------------+
--Query--
SELECT * FROM view1 WHERE id = 1
--Result--
[(1, 'val11', 'val21', 'val31')]
+--------------------+
--Query--
EXPLAIN SYNTAX SELECT ts, id, id_b, b.ts, b.id, id_c FROM (SELECT ts, id, id_b FROM A) AS a ALL LEFT JOIN B AS b ON b.id = a.id_b WHERE a.ts <= toDateTime('1970-01-01 03:00:00')
--Result--
[('SELECT',), ('    ts,',), ('    id,',), ('    id_b,',), ('    b.ts,',), ('    b.id,',), ('    id_c',), ('FROM',), ('(',), ('    SELECT',), ('        ts,',), ('        id,',), ('        id_b',), ('    FROM A',), ("    WHERE ts <= toDateTime('1970-01-01 03:00:00')",), (') AS a',), ('ALL LEFT JOIN B AS b ON b.id = id_b',), ("WHERE ts <= toDateTime('1970-01-01 03:00:00')",)]
+--------------------+
--Query--
EXPLAIN SYNTAX SELECT ts AS `--a.ts`, id AS `--a.id`, id_b AS `--a.id_b`, b.ts AS `--b.ts`, b.id AS `--b.id`, id_c AS `--b.id_c` FROM (SELECT ts, id, id_b FROM A) AS a ALL LEFT JOIN B AS b ON `--b.id` = `--a.id_b` WHERE `--a.ts` <= toDateTime('1970-01-01 03:00:00')
--Result--
[('SELECT',), ('    ts AS `--a.ts`,',), ('    id AS `--a.id`,',), ('    id_b AS `--a.id_b`,',), ('    b.ts AS `--b.ts`,',), ('    b.id AS `--b.id`,',), ('    id_c AS `--b.id_c`',), ('FROM',), ('(',), ('    SELECT',), ('        ts,',), ('        id,',), ('        id_b',), ('    FROM A',), ("    WHERE ts <= toDateTime('1970-01-01 03:00:00')",), (') AS a',), ('ALL LEFT JOIN B AS b ON `--b.id` = `--a.id_b`',), ("WHERE `--a.ts` <= toDateTime('1970-01-01 03:00:00')",)]
+--------------------+
--Query--
EXPLAIN SYNTAX SELECT * FROM (SELECT * FROM system.one) WHERE arrayMap(x -> x + 1, [dummy]) = [1]
--Result--
[('SELECT dummy',), ('FROM',), ('(',), ('    SELECT dummy',), ('    FROM system.one',), ('    WHERE arrayMap(x -> (x + 1), [dummy]) = [1]',), (')',), ('WHERE arrayMap(x -> (x + 1), [dummy]) = [1]',)]
+--------------------+
--Query--
SELECT * FROM (SELECT * FROM system.one) WHERE arrayMap(x -> x + 1, [dummy]) = [1]
--Result--
[(0,)]
+--------------------+
--Query--
EXPLAIN SYNTAX SELECT * FROM system.one HAVING dummy > 0 AND dummy < 0
--Result--
[('SELECT dummy',), ('FROM system.one',), ('WHERE (dummy > 0) AND (dummy < 0)',)]
+--------------------+
