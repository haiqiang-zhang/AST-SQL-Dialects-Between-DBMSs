--Query--
SELECT * FROM bug_36995 WHERE (time IS NOT NULL) AND (product IN (SELECT '1')) SETTINGS optimize_move_to_prewhere = 1
--Result--
[(datetime.datetime(2022, 1, 1, 0, 0), '1')]
+--------------------+
--Query--
SELECT * FROM bug_36995 WHERE (time IS NOT NULL) AND (product IN (SELECT '1')) SETTINGS optimize_move_to_prewhere = 0
--Result--
[(datetime.datetime(2022, 1, 1, 0, 0), '1')]
+--------------------+
--Query--
SELECT * FROM bug_36995 PREWHERE (time IS NOT NULL) WHERE (product IN (SELECT '1'))
--Result--
[(datetime.datetime(2022, 1, 1, 0, 0), '1')]
+--------------------+
