--Query--
SELECT * FROM test
--Result--
[('hello', 'test')]
+--------------------+
--Query--
SELECT name, partition, partition_id FROM system.parts WHERE database = currentDatabase() AND table = 'test' AND active ORDER BY partition
--Result--
[('1_1_1_0', 'hello', '1')]
+--------------------+
--Query--
OPTIMIZE TABLE test FINAL
--Result--
[]
+--------------------+
--Query--
SELECT * FROM test ORDER BY x
--Result--
[('hello', 'test'), ('goodbye', 'test')]
+--------------------+
--Query--
SELECT name, partition, partition_id FROM system.parts WHERE database = currentDatabase() AND table = 'test' AND active ORDER BY partition
--Result--
[('3_2_2_1', 'goodbye', '3'), ('1_1_1_1', 'hello', '1')]
+--------------------+
--Query--
OPTIMIZE TABLE test FINAL
--Result--
[]
+--------------------+
--Query--
SELECT * FROM test ORDER BY x
--Result--
[(1, 'test'), (3, 'test'), (111, 'abc')]
+--------------------+
--Query--
SELECT name, partition, partition_id FROM system.parts WHERE database = currentDatabase() AND table = 'test' AND active ORDER BY partition
--Result--
[('1_1_1_2', '1', '1'), ('111_3_3_1', '111', '111'), ('3_2_2_2', '3', '3')]
+--------------------+
