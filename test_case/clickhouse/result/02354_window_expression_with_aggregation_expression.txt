--Query--
SELECT      sum(a)*100/sum(sum(a)) OVER (PARTITION BY b) AS r FROM  (   SELECT 1 AS a, 2 AS b   UNION ALL   SELECT 3 AS a, 4 AS b   UNION ALL   SELECT 5 AS a, 2 AS b  ) AS t GROUP BY b
--Result--
[(100.0,), (100.0,)]
+--------------------+
--Query--
SELECT arrayMap(x -> (x + 1), groupArray(number) OVER ()) AS result FROM numbers(10)
--Result--
[([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],), ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],)]
+--------------------+
