--Query--
WITH   cte_a AS (     SELECT *     FROM a     WINDOW my_window AS ()   ),   cte_b AS (     SELECT *     FROM a     WINDOW my_window AS ()   ) SELECT * FROM cte_a CROSS JOIN cte_b
--Result--
[]
+--------------------+
--Query--
select i, lag(i) over named_window from (values (1), (2), (3)) as t (i) window named_window as (order by i)
--Result--
[(1, None), (2, 1), (3, 2)]
+--------------------+
--Query--
with subquery as (select i, lag(i) over named_window from (values (1), (2), (3)) as t (i) window named_window as (order by i)) select * from subquery
--Result--
[(1, None), (2, 1), (3, 2)]
+--------------------+
--Query--
select * from (select i, lag(i) over named_window from (values (1), (2), (3)) as t (i) window named_window as (order by i)) t1
--Result--
[(1, None), (2, 1), (3, 2)]
+--------------------+
--Query--
select * from v1
--Result--
[(1, None), (2, 1), (3, 2)]
+--------------------+
--Query--
SELECT * FROM (SELECT i, lag(i) OVER named_window FROM ( VALUES (1), (2), (3)) AS t (i) window named_window AS ( ORDER BY i)) t1, (SELECT i, lag(i) OVER named_window FROM ( VALUES (1), (2), (3)) AS t (i) window named_window AS ( ORDER BY i)) t2 ORDER BY 1, 2, 3, 4
--Result--
[(1, None, 1, None), (1, None, 2, 1), (1, None, 3, 2), (2, 1, 1, None), (2, 1, 2, 1), (2, 1, 3, 2), (3, 2, 1, None), (3, 2, 2, 1), (3, 2, 3, 2)]
+--------------------+
