--Query--
SELECT a, (SELECT y FROM t2 WHERE x=a) FROM t1 WHERE b<8
--Result--
[(1, 1), (3, 9), (5, 25)]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(1, 3), (3, 13), (5, 31), (7, 57)]
+--------------------+
--Query--
SELECT b FROM t1 WHERE EXISTS(SELECT * FROM t2 WHERE y=a)
--Result--
[(3,)]
+--------------------+
--Query--
SELECT b FROM t1 WHERE NOT EXISTS(SELECT * FROM t2 WHERE y=a)
--Result--
[(13,), (31,), (57,)]
+--------------------+
--Query--
SELECT a, x FROM t1, t2 WHERE t1.a = (SELECT x)
--Result--
[(1, 1), (3, 3), (5, 5), (7, 7)]
+--------------------+
--Query--
SELECT a, x FROM t1, t2 WHERE t1.a = (SELECT x)
--Result--
[(1, 1), (3, 3), (5, 5), (7, 7)]
+--------------------+
--Query--
SELECT a, x FROM t2, t1 WHERE t1.a = (SELECT x)
--Result--
[(1, 1), (3, 3), (5, 5), (7, 7)]
+--------------------+
--Query--
SELECT count(*) FROM t1 WHERE a > (SELECT count(*) FROM t2)
--Result--
[(2,)]
+--------------------+
--Query--
SELECT (y*2)>b FROM t1, t2 WHERE a=x
--Result--
[(0,), (1,), (1,), (1,)]
+--------------------+
--Query--
SELECT a FROM t1 WHERE (SELECT (y*2)>b FROM t2 WHERE a=x)
--Result--
[(3,), (5,), (7,)]
+--------------------+
--Query--
SELECT (SELECT a), b FROM t1
--Result--
[(1, 3), (3, 13), (5, 31), (7, 57)]
+--------------------+
--Query--
SELECT * FROM (SELECT (SELECT a), b FROM t1)
--Result--
[(1, 3), (3, 13), (5, 31), (7, 57)]
+--------------------+
--Query--
SELECT * FROM (SELECT (SELECT sum(a) FROM t1))
--Result--
[(16,)]
+--------------------+
--Query--
SELECT period, vsum     FROM (SELECT        a.period,       (select sum(val) from t5 where period between a.period and '2002-4') vsum       FROM t5 a where a.period between '2002-1' and '2002-4')     WHERE vsum < 45
--Result--
[('2002-2', 30), ('2002-3', 25), ('2002-4', 15)]
+--------------------+
--Query--
SELECT period, vsum from       (select a.period,       (select sum(val) from t5 where period between a.period and '2002-4') vsum     FROM t5 a where a.period between '2002-1' and '2002-4')      WHERE vsum < 45
--Result--
[('2002-2', 30), ('2002-3', 25), ('2002-4', 15)]
+--------------------+
--Query--
SELECT (SELECT 10)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT * FROM t3 WHERE a IN (SELECT b FROM t3)
--Result--
[(1, 2)]
+--------------------+
--Query--
SELECT a IN (10.0, 20) FROM t3
--Result--
[(0,)]
+--------------------+
--Query--
SELECT * FROM t4 WHERE x IN (SELECT a FROM t3)
--Result--
[('10.0',)]
+--------------------+
--Query--
SELECT * FROM t4 WHERE x IN (SELECT a FROM t3)
--Result--
[('10.0',)]
+--------------------+
--Query--
EXPLAIN QUERY PLAN     SELECT * FROM t4 WHERE x IN (SELECT a FROM t3)
--Result--
[(2, 0, 0, 'SCAN t4'), (7, 0, 0, 'LIST SUBQUERY 1'), (9, 7, 0, 'SCAN t3')]
+--------------------+
--Query--
SELECT * FROM v1 WHERE EXISTS(SELECT * FROM t2 WHERE p=v1.b)
--Result--
[(2,)]
+--------------------+
--Query--
SELECT * FROM v1 WHERE EXISTS(SELECT 1)
--Result--
[(2,)]
+--------------------+
--Query--
SELECT (SELECT t1.a) FROM t1
--Result--
[(1,), (1,)]
+--------------------+
--Query--
SELECT a, (SELECT b) FROM t1 GROUP BY a
--Result--
[(1, 2)]
+--------------------+
--Query--
SELECT a, (SELECT d FROM t2 WHERE a=c) FROM t1 GROUP BY a
--Result--
[(1, 'one')]
+--------------------+
--Query--
SELECT max(a), (SELECT d FROM t2 WHERE a=c) FROM t1
--Result--
[(2, 'two')]
+--------------------+
--Query--
SELECT a, (SELECT (SELECT d FROM t2 WHERE a=c)) FROM t1 GROUP BY a
--Result--
[(1, 'one'), (2, 'two')]
+--------------------+
--Query--
SELECT a, (SELECT count(*) FROM t2 WHERE a=c) FROM t1
--Result--
[(1, 1), (1, 1), (2, 1)]
+--------------------+
--Query--
SELECT a.x, avg(a.y)       FROM t34 AS a      GROUP BY a.x      HAVING NOT EXISTS( SELECT b.x, avg(b.y)                           FROM t34 AS b                          GROUP BY b.x                          HAVING avg(a.y) > avg(b.y))
--Result--
[(107, 4.0)]
+--------------------+
--Query--
SELECT a.x, avg(a.y) AS avg1       FROM t34 AS a      GROUP BY a.x      HAVING NOT EXISTS( SELECT b.x, avg(b.y) AS avg2                           FROM t34 AS b                          GROUP BY b.x                          HAVING avg1 > avg2)
--Result--
[(107, 4.0)]
+--------------------+
--Query--
SELECT        a.x,        avg(a.y),        NOT EXISTS ( SELECT b.x, avg(b.y)                       FROM t34 AS b                       GROUP BY b.x                      HAVING avg(a.y) > avg(b.y)),        EXISTS ( SELECT c.x, avg(c.y)                   FROM t34 AS c                   GROUP BY c.x                  HAVING avg(a.y) > avg(c.y))       FROM t34 AS a      GROUP BY a.x      ORDER BY a.x
--Result--
[(106, 4.5, 0, 1), (107, 4.0, 1, 0)]
+--------------------+
--Query--
SELECT (SELECT a FROM t1)
--Result--
[(1,)]
+--------------------+
--Query--
SELECT (SELECT a FROM t1)
--Result--
[(None,)]
+--------------------+
--Query--
SELECT (SELECT 0 FROM (SELECT * FROM t1)) AS x WHERE x
--Result--
[]
+--------------------+
--Query--
SELECT (SELECT 0 FROM (SELECT * FROM (SELECT 0))) AS x WHERE x
--Result--
[]
+--------------------+
--Query--
ANALYZE sqlite_master
--Result--
[]
+--------------------+
--Query--
ANALYZE sqlite_master
--Result--
[]
+--------------------+
