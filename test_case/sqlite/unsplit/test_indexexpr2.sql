CREATE TABLE t1(a, b);
INSERT INTO t1 VALUES(1, 'one');
INSERT INTO t1 VALUES(2, 'two');
INSERT INTO t1 VALUES(3, 'three');
CREATE INDEX i1 ON t1(b || 'x');
SELECT 'TWOX' == (b || 'x') FROM t1 WHERE (b || 'x')>'onex';
SELECT 'TWOX' == (b || 'x') COLLATE nocase  FROM t1 WHERE (b || 'x')>'onex';
CREATE INDEX i2 ON t1(a+1);
SELECT a+1, quote(a+1) FROM t1 ORDER BY 1;
EXPLAIN QUERY PLAN 
  SELECT b FROM t1 WHERE b IS NOT NULL AND a IS NULL 
  GROUP BY b COLLATE nocase
  ORDER BY b COLLATE nocase;
CREATE TABLE t2(x);
INSERT INTO t2 VALUES('.ABC');
INSERT INTO t2 VALUES('.abcd');
INSERT INTO t2 VALUES('.defg');
INSERT INTO t2 VALUES('.DEF');
SELECT x FROM t2 ORDER BY substr(x, 2) COLLATE nocase;
CREATE TABLE t3(x);
CREATE INDEX i3 ON t3(json_extract(x, '$.a'), json_extract(x, '$.b'));
CREATE TABLE t4(a, b);
INSERT INTO t4 VALUES('.ABC', 1);
INSERT INTO t4 VALUES('.abc', 2);
INSERT INTO t4 VALUES('.ABC', 3);
INSERT INTO t4 VALUES('.abc', 4);
CREATE INDEX i4 ON t4( substr(a, 2) COLLATE NOCASE, b );
DROP INDEX i4;
UPDATE t4 SET a = printf('%s%d',a,b);
SELECT * FROM t4 ORDER BY Substr(a,-2) COLLATE nocase;
CREATE INDEX i4 ON t4( Substr(a,-2) COLLATE nocase );
EXPLAIN QUERY PLAN
  SELECT * FROM t4 ORDER BY Substr(a,-2) COLLATE nocase;
CREATE TABLE t5(a INTEGER, b INTEGER);
INSERT INTO t5 VALUES(2, 4), (3, 9);
SELECT * FROM t5 WHERE abs(a)=2 or abs(b)=9;
CREATE INDEX t5a ON t5( abs(a) );
CREATE INDEX t5b ON t5( abs(b) );
SELECT * FROM t5 WHERE abs(a)=2 or abs(b)=9;
CREATE TABLE x1(a INTEGER PRIMARY KEY, b);
INSERT INTO x1 VALUES
      (1, 123), (2, '123'), (3, '123abc'), (4, 123.0), (5, 1234);
SELECT a, b FROM x1 WHERE CAST(b AS INTEGER) = 123;
CREATE INDEX x1i ON x1( CAST(b AS INTEGER) );
SELECT a, b FROM x1 WHERE CAST(b AS INTEGER) = 123;
EXPLAIN QUERY PLAN 
  SELECT a, b FROM x1 WHERE CAST(b AS INTEGER) = 123;
SELECT a, b FROM x1 WHERE CAST(b AS TEXT) = 123;
CREATE INDEX x1i2 ON x1( CAST(b AS TEXT) );
SELECT a, b FROM x1 WHERE CAST(b AS TEXT) = 123;
EXPLAIN QUERY PLAN 
  SELECT a, b FROM x1 WHERE CAST(b AS TEXT) = 123;
CREATE TABLE IF NOT EXISTS t0(c0);
INSERT INTO t0(c0) VALUES (-9223372036854775808);
BEGIN;
SELECT sql FROM sqlite_master WHERE tbl_name = 't0';
CREATE INDEX i0 ON t0(c0);
REINDEX;
INSERT INTO t0(c0) VALUES (NULL);
SELECT * FROM t0 WHERE ~('' BETWEEN t0.c0 AND TRUE);
SELECT ~('' BETWEEN t0.c0 AND TRUE) FROM t0;
SELECT * FROM t0 WHERE  0  ==  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 0  ==  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1  !=  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1  !=  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE -1   <  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT (-1   <  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE -1  <=  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT (-1  <=  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1   >  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1   >  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1  >=  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1  >=  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1   -  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1   -  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE -1   +  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT (-1   +  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1   |  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1   |  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1  <<  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1  <<  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1  >>  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1  >>  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
SELECT * FROM t0 WHERE  1  ||  (34 BETWEEN c0 AND 33) ORDER BY c0;
SELECT ( 1  ||  (34 BETWEEN c0 AND 33)) IS TRUE FROM t0;
INSERT INTO t1 VALUES(1, 2), (3, 4);
CREATE INDEX t1x ON t1(a, abs(b));
INSERT INTO t1(a,b) VALUES(4,4),(5,-5),(5,20),(6,6);
INSERT INTO t1(a,b) VALUES(1,'abcde');
SELECT * FROM t1 AS a0
   WHERE (SELECT count(a0.b=+a0.b COLLATE NOCASE IN (b)) FROM t1 GROUP BY 2.5)
   ORDER BY a0.b;
INSERT INTO t2 VALUES('alice'),('bob'),('cindy'),('david');
