CREATE TABLE t1(a,b,c);
INSERT INTO t1 VALUES(1,2,3);
INSERT INTO t1 VALUES(4,5,6);
INSERT INTO t1 VALUES(7,8,9);
SELECT * FROM t1;
BEGIN;
CREATE VIEW IF NOT EXISTS v1 AS SELECT a,b FROM t1;
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
CREATE TEMP VIEW v1temp AS SELECT a, b FROM t1;
SELECT * FROM v1temp ORDER BY a;
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1temp ORDER BY a;
SELECT name, type FROM pragma_table_list('v1');
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
DROP VIEW IF EXISTS v1;
CREATE VIEW v1 AS SELECT a,b FROM t1;
SELECT * FROM v1 ORDER BY a;
DROP TABLE t1;
CREATE TABLE t1(x,a,b,c);
INSERT INTO t1 VALUES(1,2,3,4);
INSERT INTO t1 VALUES(4,5,6,7);
INSERT INTO t1 VALUES(7,8,9,10);
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
CREATE TABLE t9(x INTEGER);
CREATE VIEW v9a AS SELECT x FROM t9;
CREATE VIEW v9b AS SELECT * FROM t9;
CREATE VIEW v9c(x) AS SELECT x FROM t9;
CREATE VIEW v9d(x) AS SELECT * FROM t9;
PRAGMA table_info(v9a);
PRAGMA table_info(v9b);
PRAGMA table_info(v9c);
PRAGMA table_info(v9d);
CREATE VIEW v2 AS SELECT * FROM t1 WHERE a>5;
SELECT * FROM v2;
INSERT INTO t1 VALUES(11,12,13,14);
SELECT * FROM v2 ORDER BY x;
SELECT x FROM v2 WHERE a>10;
SELECT * FROM v1 LIMIT 1;
SELECT * FROM v2 LIMIT 1;
DROP VIEW v1;
CREATE VIEW v1 AS SELECT a AS 'xyz', b+c AS 'pqr', c-b FROM t1;
SELECT * FROM v1 LIMIT 1;
CREATE VIEW v1b AS SELECT t1.a, b+c, t1.c FROM t1;
SELECT * FROM v1b LIMIT 1;
CREATE VIEW v1c(x,y,z) AS SELECT a, b+c, c-b FROM t1;
SELECT * FROM v1c LIMIT 1;
DROP VIEW IF EXISTS v1err;
CREATE VIEW v1err(x,y) AS SELECT a, b+c, c-b FROM t1;
DROP VIEW IF EXISTS v1err;
CREATE VIEW v1err(w,x,y,z) AS SELECT a, b+c, c-b FROM t1;
CREATE VIEW v3 AS SELECT a FROM t1 UNION SELECT b FROM t1 ORDER BY b;
SELECT * FROM v3 LIMIT 4;
CREATE VIEW v4 AS 
      SELECT a, b FROM t1 
      UNION
      SELECT b AS 'x', a AS 'y' FROM t1
      ORDER BY x, y;
SELECT b FROM v4 ORDER BY b LIMIT 4;
SELECT 1 FROM t1 LIMIT 1;
SELECT 1 FROM v1 LIMIT 1;
CREATE TABLE t2(y,a);
INSERT INTO t2 VALUES(22,2);
INSERT INTO t2 VALUES(33,3);
INSERT INTO t2 VALUES(44,4);
INSERT INTO t2 VALUES(55,5);
SELECT * FROM t2;
CREATE VIEW v5 AS
      SELECT t1.x AS v, t2.y AS w FROM t1 JOIN t2 USING(a);
SELECT * FROM v5;
EXPLAIN SELECT * FROM v5;
SELECT * FROM v5 AS a, t2 AS b WHERE a.w=b.y;
EXPLAIN SELECT * FROM v5 AS a, t2 AS b WHERE a.w=b.y;
SELECT * FROM t2 AS b, v5 AS a WHERE a.w=b.y;
EXPLAIN SELECT * FROM t2 AS b, v5 AS a WHERE a.w=b.y;
SELECT * FROM t1 AS a, v5 AS b, t2 AS c WHERE a.x=b.v AND b.w=c.y;
EXPLAIN SELECT * FROM t1 AS a, v5 AS b, t2 AS c WHERE a.x=b.v AND b.w=c.y;
SELECT min(x), min(a), min(b), min(c), min(a+b+c) FROM v2;
SELECT max(x), max(a), max(b), max(c), max(a+b+c) FROM v2;
CREATE TABLE test1(id integer primary key, a);
CREATE TABLE test2(id integer, b);
INSERT INTO test1 VALUES(1,2);
INSERT INTO test2 VALUES(1,3);
CREATE VIEW test AS
      SELECT test1.id, a, b
      FROM test1 JOIN test2 ON test2.id=test1.id;
SELECT * FROM test;
SELECT * FROM test;
DROP VIEW test;
CREATE VIEW test AS
      SELECT test1.id, a, b
      FROM test1 JOIN test2 USING(id);
SELECT * FROM test;
SELECT * FROM test;
DROP VIEW test;
CREATE VIEW test AS
      SELECT test1.id, a, b
      FROM test1 NATURAL JOIN test2;
SELECT * FROM test;
SELECT * FROM test;
CREATE VIEW v6 AS SELECT pqr, xyz FROM v1;
SELECT * FROM v6 ORDER BY xyz;
SELECT * FROM v6 ORDER BY xyz;
CREATE VIEW v7(a) AS SELECT pqr+xyz FROM v6;
SELECT * FROM v7 ORDER BY a;
CREATE VIEW v8 AS SELECT max(cnt) AS mx FROM
        (SELECT a%2 AS eo, count(*) AS cnt FROM t1 GROUP BY eo);
SELECT * FROM v8;
SELECT mx+10, mx*2 FROM v8;
SELECT mx+10, pqr FROM v6, v8 WHERE xyz=2;
SELECT mx+10, pqr FROM v6, v8 WHERE xyz>2;
INSERT INTO t2 SELECT * FROM t2 WHERE a<5;
INSERT INTO t2 SELECT * FROM t2 WHERE a<4;
INSERT INTO t2 SELECT * FROM t2 WHERE a<3;
SELECT DISTINCT count(*) FROM t2 GROUP BY a ORDER BY 1;
CREATE VIEW v9 AS 
       SELECT DISTINCT count(*) FROM t2 GROUP BY a ORDER BY 1 LIMIT 3;
SELECT * FROM v9;
SELECT * FROM v9 ORDER BY 1 DESC;
CREATE VIEW v10 AS 
       SELECT DISTINCT a, count(*) FROM t2 GROUP BY a ORDER BY 2 LIMIT 3;
SELECT * FROM v10;
SELECT * FROM v10 ORDER BY 1;
CREATE TABLE t3("9" integer, [4] text);
INSERT INTO t3 VALUES(1,2);
CREATE VIEW v_t3_a AS SELECT a.[9] FROM t3 AS a;
CREATE VIEW v_t3_b AS SELECT "4" FROM t3;
SELECT * FROM v_t3_a;
SELECT * FROM v_t3_b;
CREATE TABLE t4(a COLLATE NOCASE);
INSERT INTO t4 VALUES('This');
INSERT INTO t4 VALUES('this');
INSERT INTO t4 VALUES('THIS');
SELECT * FROM t4 WHERE a = 'THIS';
SELECT * FROM (SELECT * FROM t4) WHERE a = 'THIS';
CREATE VIEW v11 AS SELECT * FROM t4;
SELECT * FROM v11 WHERE a = 'THIS';
ATTACH 'test2.db' AS two;
CREATE TEMP VIEW t1 AS SELECT a,b FROM t1;
DROP VIEW IF EXISTS temp.t1;
CREATE TEMP VIEW t1(a,b) AS SELECT a,b FROM t1;
CREATE VIEW v15 AS SELECT a AS x, b AS y FROM t1;
SELECT * FROM v15 LIMIT 1;
SELECT x, y FROM v15 LIMIT 1;
CREATE VIEW IF NOT EXISTS v1 AS SELECT * FROM t1;
SELECT sql FROM sqlite_master WHERE name='v1';
DROP VIEW IF EXISTS nosuchview;
DROP VIEW t1;
DROP TABLE t1;
CREATE TABLE t1(a, b, c);
INSERT INTO t1 VALUES(1, 2, 3);
INSERT INTO t1 VALUES(4, 5, 6);
CREATE VIEW vv1 AS SELECT * FROM t1;
CREATE VIEW vv2 AS SELECT * FROM vv1;
CREATE VIEW vv3 AS SELECT * FROM vv2;
CREATE VIEW vv4 AS SELECT * FROM vv3;
CREATE VIEW vv5 AS SELECT * FROM vv4;
SELECT * FROM vv5;
CREATE VIEW v3308a AS SELECT rowid, * FROM t1;
SELECT * FROM v3308a;
CREATE VIEW v3308b AS SELECT t1.rowid, t1.a, t1.b+t1.c FROM t1;
SELECT * FROM v3308b;
CREATE VIEW v3308c AS SELECT t1.oid, A, t1.b+t1.c AS x FROM t1;
SELECT * FROM v3308c;
DROP TABLE IF EXISTS t1;
DROP VIEW IF EXISTS v1;
CREATE TABLE t1(c1);
CREATE VIEW v1 AS SELECT c1 FROM (SELECT t1.c1 FROM t1);
CREATE VIEW x1 AS SELECT 123 AS '', 234 AS '', 345 AS '';
SELECT * FROM x1;
CREATE TABLE t16(a, b, c UNIQUE);
INSERT INTO t16 VALUES(1, 1, 1);
INSERT INTO t16 VALUES(2, 2, 2);
INSERT INTO t16 VALUES(3, 3, 3);
CREATE VIEW v16 AS SELECT max(a) AS mx, min(b) AS mn FROM t16 GROUP BY c;
SELECT * FROM v16 AS one, v16 AS two WHERE one.mx=1;
WITH v17(x,y) AS (SELECT max(a), min(b) FROM t16 GROUP BY c)
  SELECT * FROM v17 AS one, v17 AS two WHERE one.x=1;
CREATE TABLE t0(c0 TEXT, c1);
INSERT INTO t0(c0, c1) VALUES (-1, 0);
CREATE VIEW v0(c0, c1) AS SELECT t0.c0, AVG(t0.c1) FROM t0;
SELECT c0, typeof(c0), c1, typeof(c1) FROM v0;
SELECT c0<c1 FROM v0;
SELECT c1<c0 FROM v0;
SELECT 1 FROM v0 WHERE c1<c0;
SELECT 1 FROM v0 WHERE c0<c1;
SELECT c0<c1 FROM (SELECT t0.c0 AS c0, AVG(t0.c1) AS c1 FROM t0);
SELECT c1<c0 FROM (SELECT t0.c0 AS c0, AVG(t0.c1) AS c1 FROM t0);
SELECT 1 FROM (SELECT t0.c0 AS c0, AVG(t0.c1) AS c1 FROM t0) WHERE c1<c0;
SELECT 1 FROM (SELECT t0.c0 AS c0, AVG(t0.c1) AS c1 FROM t0) WHERE c0<c1;
INSERT INTO t0(c0) VALUES ('0');
SELECT 0 IN (c0) FROM t0;
SELECT 0 IN (c0) FROM (SELECT c0 FROM t0);
SELECT name FROM sqlite_schema ORDER BY name;
INSERT INTO t0 VALUES(1,'one');
PRAGMA table_info = t1;
PRAGMA table_info = t2;
CREATE TABLE x2(b TEXT);
INSERT INTO t3 VALUES(123, 123);
