PRAGMA page_size = 1024;
CREATE TABLE t1(x, y, z);
CREATE TABLE t2(x);
BEGIN;
DELETE FROM t1;
SELECT * FROM t2;
explain DELETE FROM t1;
BEGIN;
DELETE FROM t1;
SELECT * FROM t2;
explain DELETE FROM t1;
BEGIN;
DELETE FROM t1;
SELECT * FROM t2;
explain DELETE FROM t1;
BEGIN;
UPDATE t1 SET y = '';
SELECT * FROM t2;
explain UPDATE t1 SET y = '';
BEGIN;
UPDATE t1 SET y = '';
SELECT * FROM t2;
explain UPDATE t1 SET y = '';
BEGIN;
UPDATE t1 SET y = '';
SELECT * FROM t2;
explain UPDATE t1 SET y = '';
CREATE TABLE t3(a, b);
INSERT INTO t3 VALUES(1, 'one');
INSERT INTO t3 VALUES(2, 'two');
INSERT INTO t3 VALUES(3, 'three');
BEGIN;
CREATE VIEW v1 AS SELECT * FROM t3;
SELECT * FROM t2;
BEGIN;
SELECT * FROM t2;
BEGIN;
INSERT INTO t3 VALUES(3, 'three');
INSERT INTO t3 VALUES(3, 'four');
SELECT * FROM t2;
BEGIN;
INSERT INTO t3 VALUES(1, 'uno');
SELECT * FROM t2;
BEGIN;
INSERT INTO t3 VALUES(1, 'zero');
SELECT * FROM t2;
CREATE TABLE log(x);
