--Query--
SELECT a FROM xacttest WHERE a > 100
--Result--
[(777,)]
+--------------------+
--Query--
SELECT * FROM xacttest
--Result--
[]
+--------------------+
--Query--
ABORT
--Result--
[]
+--------------------+
--Query--
SELECT oid FROM pg_class WHERE relname = 'disappear'
--Result--
[]
+--------------------+
--Query--
SELECT * FROM xacttest
--Result--
[(56, 7.8), (100, 99.097), (0, 0.09561), (42, 324.78), (777, 777.777)]
+--------------------+
--Query--
SELECT COUNT(*) FROM xacttest
--Result--
[(5,)]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SAVEPOINT y
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT y
--Result--
[]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SELECT * FROM writetest
--Result--
[]
+--------------------+
--Query--
PREPARE test AS UPDATE writetest SET a = 0
--Result--
[]
+--------------------+
--Query--
SELECT * FROM writetest, temptest
--Result--
[]
+--------------------+
--Query--
START TRANSACTION READ WRITE
--Result--
[]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SELECT * FROM trans_foo
--Result--
[]
+--------------------+
--Query--
SELECT * FROM trans_barbaz
--Result--
[]
+--------------------+
--Query--
SELECT * FROM trans_baz
--Result--
[]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
RELEASE two
--Result--
[]
+--------------------+
--Query--
SAVEPOINT three
--Result--
[]
+--------------------+
--Query--
SAVEPOINT four
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT four
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT three
--Result--
[]
+--------------------+
--Query--
SELECT * FROM trans_foo
--Result--
[(1,), (3,)]
+--------------------+
--Query--
SELECT * FROM trans_barbaz
--Result--
[(1,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SAVEPOINT three
--Result--
[]
+--------------------+
--Query--
SAVEPOINT four
--Result--
[]
+--------------------+
--Query--
SAVEPOINT five
--Result--
[]
+--------------------+
--Query--
SELECT * FROM savepoints
--Result--
[(1,), (2,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SAVEPOINT three
--Result--
[]
+--------------------+
--Query--
SELECT * FROM savepoints
--Result--
[(1,), (2,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SELECT * FROM savepoints
--Result--
[(1,), (2,), (4,), (5,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
RELEASE SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SELECT a.xmin = b.xmin FROM savepoints a, savepoints b WHERE a.a=6 AND b.a=8
--Result--
[(True,)]
+--------------------+
--Query--
SELECT a.xmin = b.xmin FROM savepoints a, savepoints b WHERE a.a=6 AND b.a=7
--Result--
[(False,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SELECT a FROM savepoints WHERE a in (9, 10, 11)
--Result--
[(9,), (11,)]
+--------------------+
--Query--
SELECT a.xmin = b.xmin FROM savepoints a, savepoints b WHERE a.a=9 AND b.a=11
--Result--
[(False,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SAVEPOINT three
--Result--
[]
+--------------------+
--Query--
SELECT a FROM savepoints WHERE a BETWEEN 12 AND 17
--Result--
[(12,), (15,), (16,), (17,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SAVEPOINT two
--Result--
[]
+--------------------+
--Query--
SELECT a FROM savepoints WHERE a BETWEEN 18 AND 22
--Result--
[(18,), (22,)]
+--------------------+
--Query--
SAVEPOINT one
--Result--
[]
+--------------------+
--Query--
SELECT 1
--Result--
[(1,)]
+--------------------+
--Query--
SELECT 1
--Result--
[(1,)]
+--------------------+
--Query--
select * from xacttest
--Result--
[(56, 7.8), (100, 99.097), (0, 0.09561), (42, 324.78), (777, 777.777)]
+--------------------+
--Query--
select * from xacttest
--Result--
[(0, 0.09561), (787, 7.8), (787, 99.097), (787, 324.78), (787, 777.777)]
+--------------------+
--Query--
select * from xacttest
--Result--
[(0, 0.09561), (787, 7.8), (797, 99.097), (807, 324.78), (817, 777.777)]
+--------------------+
--Query--
select * from xacttest
--Result--
[(0, 0.09561), (787, 7.8), (797, 99.097), (807, 324.78), (817, 777.777)]
+--------------------+
--Query--
select * from xacttest
--Result--
[(0, 0.09561), (787, 7.8), (797, 99.097), (807, 324.78), (817, 777.777)]
+--------------------+
--Query--
savepoint x
--Result--
[]
+--------------------+
--Query--
savepoint x
--Result--
[]
+--------------------+
--Query--
declare foo cursor for select * from trans_abc
--Result--
[]
+--------------------+
--Query--
fetch from foo
--Result--
[(5,)]
+--------------------+
--Query--
declare foo cursor for select * from trans_abc
--Result--
[]
+--------------------+
--Query--
fetch from foo
--Result--
[(5,)]
+--------------------+
--Query--
savepoint x
--Result--
[]
+--------------------+
--Query--
fetch from foo
--Result--
[(10,)]
+--------------------+
--Query--
fetch from foo
--Result--
[(15,)]
+--------------------+
--Query--
abort
--Result--
[]
+--------------------+
--Query--
START TRANSACTION ISOLATION LEVEL REPEATABLE READ, READ WRITE, DEFERRABLE
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
START TRANSACTION ISOLATION LEVEL REPEATABLE READ, READ WRITE, DEFERRABLE
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
START TRANSACTION ISOLATION LEVEL REPEATABLE READ, READ WRITE, DEFERRABLE
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('repeatable read',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
START TRANSACTION ISOLATION LEVEL READ COMMITTED, READ WRITE, DEFERRABLE
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
SAVEPOINT x
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('on',)]
+--------------------+
--Query--
START TRANSACTION ISOLATION LEVEL SERIALIZABLE, READ WRITE, NOT DEFERRABLE
--Result--
[]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('serializable',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('serializable',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('serializable',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_deferrable
--Result--
[('off',)]
+--------------------+
--Query--
SELECT * FROM trans_abc ORDER BY 1
--Result--
[(1,), (2,), (4,), (5,)]
+--------------------+
--Query--
SELECT 3
--Result--
[(3,)]
+--------------------+
--Query--
select * from i_table
--Result--
[]
+--------------------+
--Query--
select * from i_table
--Result--
[]
+--------------------+
--Query--
select 2
--Result--
[(2,)]
+--------------------+
--Query--
select * from i_table
--Result--
[(5,), (6,)]
+--------------------+
--Query--
VACUUM
--Result--
[]
+--------------------+
--Query--
VACUUM
--Result--
[]
+--------------------+
--Query--
SELECT 2
--Result--
[(2,)]
+--------------------+
--Query--
SELECT 3
--Result--
[(3,)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_read_only
--Result--
[('off',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SHOW transaction_isolation
--Result--
[('read committed',)]
+--------------------+
--Query--
SELECT * FROM trans_abc ORDER BY 1
--Result--
[]
+--------------------+
