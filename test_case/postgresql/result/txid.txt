--Query--
select '12:13:'::txid_snapshot
--Result--
[('12:13:',)]
+--------------------+
--Query--
select '12:18:14,16'::txid_snapshot
--Result--
[('12:18:14,16',)]
+--------------------+
--Query--
select '12:16:14,14'::txid_snapshot
--Result--
[('12:16:14',)]
+--------------------+
--Query--
select snap from snapshot_test order by nr
--Result--
[('12:13:',), ('12:20:13,15,18',), ('100001:100009:100005,100007,100008',), ('100:150:101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131',)]
+--------------------+
--Query--
select  txid_snapshot_xmin(snap), 	txid_snapshot_xmax(snap), 	txid_snapshot_xip(snap) from snapshot_test order by nr
--Result--
[(12, 20, 13), (12, 20, 15), (12, 20, 18), (100001, 100009, 100005), (100001, 100009, 100007), (100001, 100009, 100008), (100, 150, 101), (100, 150, 102), (100, 150, 103), (100, 150, 104), (100, 150, 105), (100, 150, 106), (100, 150, 107), (100, 150, 108), (100, 150, 109), (100, 150, 110), (100, 150, 111), (100, 150, 112), (100, 150, 113), (100, 150, 114), (100, 150, 115), (100, 150, 116), (100, 150, 117), (100, 150, 118), (100, 150, 119), (100, 150, 120), (100, 150, 121), (100, 150, 122), (100, 150, 123), (100, 150, 124), (100, 150, 125), (100, 150, 126), (100, 150, 127), (100, 150, 128), (100, 150, 129), (100, 150, 130), (100, 150, 131)]
+--------------------+
--Query--
select id, txid_visible_in_snapshot(id, snap) from snapshot_test, generate_series(11, 21) id where nr = 2
--Result--
[(11, True), (12, True), (13, False), (14, True), (15, False), (16, True), (17, True), (18, False), (19, True), (20, False), (21, False)]
+--------------------+
--Query--
select id, txid_visible_in_snapshot(id, snap) from snapshot_test, generate_series(90, 160) id where nr = 4
--Result--
[(90, True), (91, True), (92, True), (93, True), (94, True), (95, True), (96, True), (97, True), (98, True), (99, True), (100, True), (101, False), (102, False), (103, False), (104, False), (105, False), (106, False), (107, False), (108, False), (109, False), (110, False), (111, False), (112, False), (113, False), (114, False), (115, False), (116, False), (117, False), (118, False), (119, False), (120, False), (121, False), (122, False), (123, False), (124, False), (125, False), (126, False), (127, False), (128, False), (129, False), (130, False), (131, False), (132, True), (133, True), (134, True), (135, True), (136, True), (137, True), (138, True), (139, True), (140, True), (141, True), (142, True), (143, True), (144, True), (145, True), (146, True), (147, True), (148, True), (149, True), (150, False), (151, False), (152, False), (153, False), (154, False), (155, False), (156, False), (157, False), (158, False), (159, False), (160, False)]
+--------------------+
--Query--
select txid_current() >= txid_snapshot_xmin(txid_current_snapshot())
--Result--
[(True,)]
+--------------------+
--Query--
select txid_visible_in_snapshot(txid_current(), txid_current_snapshot())
--Result--
[(False,)]
+--------------------+
--Query--
select txid_snapshot '1000100010001000:1000100010001100:1000100010001012,1000100010001013'
--Result--
[('1000100010001000:1000100010001100:1000100010001012,1000100010001013',)]
+--------------------+
--Query--
select txid_visible_in_snapshot('1000100010001012', '1000100010001000:1000100010001100:1000100010001012,1000100010001013')
--Result--
[(False,)]
+--------------------+
--Query--
select txid_visible_in_snapshot('1000100010001015', '1000100010001000:1000100010001100:1000100010001012,1000100010001013')
--Result--
[(True,)]
+--------------------+
--Query--
SELECT txid_snapshot '1:9223372036854775807:3'
--Result--
[('1:9223372036854775807:3',)]
+--------------------+
--Query--
SELECT txid_current_if_assigned() IS NULL
--Result--
[(True,)]
+--------------------+
