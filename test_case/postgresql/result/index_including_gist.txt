--Query--
SELECT pg_get_indexdef(i.indexrelid) FROM pg_index i JOIN pg_class c ON i.indexrelid = c.oid WHERE i.indrelid = 'tbl_gist'::regclass ORDER BY c.relname
--Result--
[('CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c2, c3)',)]
+--------------------+
--Query--
SELECT * FROM tbl_gist where c4 <@ box(point(1,1),point(10,10))
--Result--
[(1, 2, 3, '(2,3),(1,2)'), (2, 4, 6, '(4,5),(2,3)'), (3, 6, 9, '(6,7),(3,4)'), (4, 8, 12, '(8,9),(4,5)')]
+--------------------+
--Query--
EXPLAIN  (costs off) SELECT * FROM tbl_gist where c4 <@ box(point(1,1),point(10,10))
--Result--
[('Index Only Scan using tbl_gist_idx on tbl_gist',), ("  Index Cond: (c4 <@ '(10,10),(1,1)'::box)",)]
+--------------------+
--Query--
SELECT pg_get_indexdef(i.indexrelid) FROM pg_index i JOIN pg_class c ON i.indexrelid = c.oid WHERE i.indrelid = 'tbl_gist'::regclass ORDER BY c.relname
--Result--
[('CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c2, c3)',)]
+--------------------+
--Query--
SELECT * FROM tbl_gist where c4 <@ box(point(1,1),point(10,10))
--Result--
[(1, 2, 3, '(2,3),(1,2)'), (2, 4, 6, '(4,5),(2,3)'), (3, 6, 9, '(6,7),(3,4)'), (4, 8, 12, '(8,9),(4,5)')]
+--------------------+
--Query--
EXPLAIN  (costs off) SELECT * FROM tbl_gist where c4 <@ box(point(1,1),point(10,10))
--Result--
[('Index Only Scan using tbl_gist_idx on tbl_gist',), ("  Index Cond: (c4 <@ '(10,10),(1,1)'::box)",)]
+--------------------+
--Query--
SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl_gist' ORDER BY indexname
--Result--
[('CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c2, c3)',)]
+--------------------+
--Query--
SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl_gist' ORDER BY indexname
--Result--
[('CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c3)',)]
+--------------------+
--Query--
REINDEX INDEX tbl_gist_idx
--Result--
[]
+--------------------+
--Query--
SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl_gist' ORDER BY indexname
--Result--
[('CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c3)',)]
+--------------------+
--Query--
SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl_gist' ORDER BY indexname
--Result--
[]
+--------------------+
--Query--
EXPLAIN  (costs off) SELECT * FROM tbl_gist where c4 <@ box(point(1,1),point(10,10))
--Result--
[('Index Only Scan using tbl_gist_c4_c1_c2_c3_excl on tbl_gist',), ("  Index Cond: (c4 <@ '(10,10),(1,1)'::box)",)]
+--------------------+
