--Query--
CLUSTER clstr_tst_c ON clstr_tst
--Result--
[]
+--------------------+
--Query--
SELECT a,b,c,substring(d for 30), length(d) from clstr_tst
--Result--
[(10, 14, 'catorce', None, None), (18, 5, 'cinco', None, None), (9, 4, 'cuatro', None, None), (26, 19, 'diecinueve', None, None), (12, 18, 'dieciocho', None, None), (30, 16, 'dieciseis', None, None), (24, 17, 'diecisiete', None, None), (2, 10, 'diez', None, None), (23, 12, 'doce', None, None), (11, 2, 'dos', None, None), (25, 9, 'nueve', None, None), (31, 8, 'ocho', None, None), (1, 11, 'once', None, None), (28, 15, 'quince', None, None), (32, 6, 'seis', 'xyzzyxyzzyxyzzyxyzzyxyzzyxyzzy', 500000), (29, 7, 'siete', None, None), (15, 13, 'trece', None, None), (22, 30, 'treinta', None, None), (17, 32, 'treinta y dos', None, None), (3, 31, 'treinta y uno', None, None), (5, 3, 'tres', None, None), (20, 1, 'uno', None, None), (6, 20, 'veinte', None, None), (14, 25, 'veinticinco', None, None), (21, 24, 'veinticuatro', None, None), (4, 22, 'veintidos', None, None), (19, 29, 'veintinueve', None, None), (16, 28, 'veintiocho', None, None), (27, 26, 'veintiseis', None, None), (13, 27, 'veintisiete', None, None), (7, 23, 'veintitres', None, None), (8, 21, 'veintiuno', None, None)]
+--------------------+
--Query--
SELECT a,b,c,substring(d for 30), length(d) from clstr_tst ORDER BY a
--Result--
[(1, 11, 'once', None, None), (2, 10, 'diez', None, None), (3, 31, 'treinta y uno', None, None), (4, 22, 'veintidos', None, None), (5, 3, 'tres', None, None), (6, 20, 'veinte', None, None), (7, 23, 'veintitres', None, None), (8, 21, 'veintiuno', None, None), (9, 4, 'cuatro', None, None), (10, 14, 'catorce', None, None), (11, 2, 'dos', None, None), (12, 18, 'dieciocho', None, None), (13, 27, 'veintisiete', None, None), (14, 25, 'veinticinco', None, None), (15, 13, 'trece', None, None), (16, 28, 'veintiocho', None, None), (17, 32, 'treinta y dos', None, None), (18, 5, 'cinco', None, None), (19, 29, 'veintinueve', None, None), (20, 1, 'uno', None, None), (21, 24, 'veinticuatro', None, None), (22, 30, 'treinta', None, None), (23, 12, 'doce', None, None), (24, 17, 'diecisiete', None, None), (25, 9, 'nueve', None, None), (26, 19, 'diecinueve', None, None), (27, 26, 'veintiseis', None, None), (28, 15, 'quince', None, None), (29, 7, 'siete', None, None), (30, 16, 'dieciseis', None, None), (31, 8, 'ocho', None, None), (32, 6, 'seis', 'xyzzyxyzzyxyzzyxyzzyxyzzyxyzzy', 500000)]
+--------------------+
--Query--
SELECT a,b,c,substring(d for 30), length(d) from clstr_tst ORDER BY b
--Result--
[(20, 1, 'uno', None, None), (11, 2, 'dos', None, None), (5, 3, 'tres', None, None), (9, 4, 'cuatro', None, None), (18, 5, 'cinco', None, None), (32, 6, 'seis', 'xyzzyxyzzyxyzzyxyzzyxyzzyxyzzy', 500000), (29, 7, 'siete', None, None), (31, 8, 'ocho', None, None), (25, 9, 'nueve', None, None), (2, 10, 'diez', None, None), (1, 11, 'once', None, None), (23, 12, 'doce', None, None), (15, 13, 'trece', None, None), (10, 14, 'catorce', None, None), (28, 15, 'quince', None, None), (30, 16, 'dieciseis', None, None), (24, 17, 'diecisiete', None, None), (12, 18, 'dieciocho', None, None), (26, 19, 'diecinueve', None, None), (6, 20, 'veinte', None, None), (8, 21, 'veintiuno', None, None), (4, 22, 'veintidos', None, None), (7, 23, 'veintitres', None, None), (21, 24, 'veinticuatro', None, None), (14, 25, 'veinticinco', None, None), (27, 26, 'veintiseis', None, None), (13, 27, 'veintisiete', None, None), (16, 28, 'veintiocho', None, None), (19, 29, 'veintinueve', None, None), (22, 30, 'treinta', None, None), (3, 31, 'treinta y uno', None, None), (17, 32, 'treinta y dos', None, None)]
+--------------------+
--Query--
SELECT a,b,c,substring(d for 30), length(d) from clstr_tst ORDER BY c
--Result--
[(10, 14, 'catorce', None, None), (18, 5, 'cinco', None, None), (9, 4, 'cuatro', None, None), (26, 19, 'diecinueve', None, None), (12, 18, 'dieciocho', None, None), (30, 16, 'dieciseis', None, None), (24, 17, 'diecisiete', None, None), (2, 10, 'diez', None, None), (23, 12, 'doce', None, None), (11, 2, 'dos', None, None), (25, 9, 'nueve', None, None), (31, 8, 'ocho', None, None), (1, 11, 'once', None, None), (28, 15, 'quince', None, None), (32, 6, 'seis', 'xyzzyxyzzyxyzzyxyzzyxyzzyxyzzy', 500000), (29, 7, 'siete', None, None), (15, 13, 'trece', None, None), (22, 30, 'treinta', None, None), (17, 32, 'treinta y dos', None, None), (3, 31, 'treinta y uno', None, None), (5, 3, 'tres', None, None), (20, 1, 'uno', None, None), (6, 20, 'veinte', None, None), (14, 25, 'veinticinco', None, None), (21, 24, 'veinticuatro', None, None), (4, 22, 'veintidos', None, None), (19, 29, 'veintinueve', None, None), (16, 28, 'veintiocho', None, None), (27, 26, 'veintiseis', None, None), (13, 27, 'veintisiete', None, None), (7, 23, 'veintitres', None, None), (8, 21, 'veintiuno', None, None)]
+--------------------+
--Query--
SELECT a,b,c,substring(d for 30), length(d) from clstr_tst
--Result--
[(10, 14, 'catorce', None, None), (18, 5, 'cinco', None, None), (9, 4, 'cuatro', None, None), (26, 19, 'diecinueve', None, None), (12, 18, 'dieciocho', None, None), (30, 16, 'dieciseis', None, None), (24, 17, 'diecisiete', None, None), (2, 10, 'diez', None, None), (23, 12, 'doce', None, None), (11, 2, 'dos', None, None), (25, 9, 'nueve', None, None), (31, 8, 'ocho', None, None), (1, 11, 'once', None, None), (28, 15, 'quince', None, None), (32, 6, 'seis', 'xyzzyxyzzyxyzzyxyzzyxyzzyxyzzy', 500000), (29, 7, 'siete', None, None), (15, 13, 'trece', None, None), (22, 30, 'treinta', None, None), (17, 32, 'treinta y dos', None, None), (3, 31, 'treinta y uno', None, None), (5, 3, 'tres', None, None), (20, 1, 'uno', None, None), (6, 20, 'veinte', None, None), (14, 25, 'veinticinco', None, None), (21, 24, 'veinticuatro', None, None), (4, 22, 'veintidos', None, None), (19, 29, 'veintinueve', None, None), (16, 28, 'veintiocho', None, None), (27, 26, 'veintiseis', None, None), (13, 27, 'veintisiete', None, None), (7, 23, 'veintitres', None, None), (8, 21, 'veintiuno', None, None), (0, 100, 'in child table', None, None)]
+--------------------+
--Query--
SELECT conname FROM pg_constraint WHERE conrelid = 'clstr_tst'::regclass ORDER BY 1
--Result--
[('clstr_tst_con',), ('clstr_tst_pkey',)]
+--------------------+
--Query--
SELECT relname, relkind,     EXISTS(SELECT 1 FROM pg_class WHERE oid = c.reltoastrelid) AS hastoast FROM pg_class c WHERE relname LIKE 'clstr_tst%' ORDER BY relname
--Result--
[('clstr_tst', 'r', True), ('clstr_tst_a_seq', 'S', False), ('clstr_tst_b', 'i', False), ('clstr_tst_b_c', 'i', False), ('clstr_tst_c', 'i', False), ('clstr_tst_c_b', 'i', False), ('clstr_tst_inh', 'r', True), ('clstr_tst_pkey', 'i', False), ('clstr_tst_s', 'r', False), ('clstr_tst_s_pkey', 'i', False), ('clstr_tst_s_rf_a_seq', 'S', False)]
+--------------------+
--Query--
SELECT pg_class.relname FROM pg_index, pg_class, pg_class AS pg_class_2 WHERE pg_class.oid=indexrelid 	AND indrelid=pg_class_2.oid 	AND pg_class_2.relname = 'clstr_tst' 	AND indisclustered
--Result--
[('clstr_tst_c',)]
+--------------------+
--Query--
SELECT pg_class.relname FROM pg_index, pg_class, pg_class AS pg_class_2 WHERE pg_class.oid=indexrelid 	AND indrelid=pg_class_2.oid 	AND pg_class_2.relname = 'clstr_tst' 	AND indisclustered
--Result--
[('clstr_tst_b_c',)]
+--------------------+
--Query--
SELECT pg_class.relname FROM pg_index, pg_class, pg_class AS pg_class_2 WHERE pg_class.oid=indexrelid 	AND indrelid=pg_class_2.oid 	AND pg_class_2.relname = 'clstr_tst' 	AND indisclustered
--Result--
[]
+--------------------+
--Query--
CLUSTER clstr_1_pkey ON clstr_1
--Result--
[]
+--------------------+
--Query--
CLUSTER clstr_2 USING clstr_2_pkey
--Result--
[]
+--------------------+
--Query--
SELECT * FROM clstr_1 UNION ALL   SELECT * FROM clstr_2 UNION ALL   SELECT * FROM clstr_3
--Result--
[(1,), (2,), (1,), (2,), (2,), (1,)]
+--------------------+
--Query--
CLUSTER
--Result--
[]
+--------------------+
--Query--
SELECT * FROM clstr_1 UNION ALL   SELECT * FROM clstr_2 UNION ALL   SELECT * FROM clstr_3
--Result--
[(1,), (2,), (1,), (2,), (2,), (1,)]
+--------------------+
--Query--
CLUSTER clstr_1
--Result--
[]
+--------------------+
--Query--
SELECT * FROM clstr_1
--Result--
[(1,), (2,)]
+--------------------+
--Query--
SELECT * FROM clustertest
--Result--
[(20,), (30,), (100,), (35,), (80,)]
+--------------------+
--Query--
CLUSTER clustertest_pkey ON clustertest
--Result--
[]
+--------------------+
--Query--
SELECT * FROM clustertest
--Result--
[(20,), (30,), (35,), (80,), (100,)]
+--------------------+
--Query--
SELECT * FROM clustertest
--Result--
[(20,), (30,), (35,), (80,), (100,)]
+--------------------+
--Query--
cluster clstr_temp using clstr_temp_pkey
--Result--
[]
+--------------------+
--Query--
select * from clstr_temp
--Result--
[(1, 'one'), (2, 'two')]
+--------------------+
--Query--
CLUSTER clustertest USING clustertest_pkey
--Result--
[]
+--------------------+
--Query--
CLUSTER clustertest
--Result--
[]
+--------------------+
--Query--
CLUSTER clstrpart USING clstrpart_idx
--Result--
[]
+--------------------+
--Query--
SELECT relname, old.level, old.relkind, old.relfilenode = new.relfilenode FROM old_cluster_info AS old JOIN new_cluster_info AS new USING (relname) ORDER BY relname COLLATE "C"
--Result--
[('clstrpart', 0, 'p', True), ('clstrpart1', 1, 'p', True), ('clstrpart11', 2, 'r', False), ('clstrpart12', 2, 'p', True), ('clstrpart2', 1, 'r', False), ('clstrpart3', 1, 'p', True), ('clstrpart33', 2, 'r', False)]
+--------------------+
--Query--
CLUSTER ptnowner USING ptnowner_i_idx
--Result--
[]
+--------------------+
--Query--
CLUSTER ptnowner USING ptnowner_i_idx
--Result--
[]
+--------------------+
--Query--
SELECT a.relname, a.relfilenode=b.relfilenode FROM pg_class a   JOIN ptnowner_oldnodes b USING (oid) ORDER BY a.relname COLLATE "C"
--Result--
[('ptnowner', True), ('ptnowner1', False), ('ptnowner2', False)]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[('Index Scan using clstr_expression_upper_b on clstr_expression',), ("  Index Cond: (upper(b) = 'PREFIX3'::text)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[(3, 3, 'prefix3')]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[('Index Scan using clstr_expression_minus_a on clstr_expression',), ("  Index Cond: ((- a) = '-3'::integer)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[(129, 3, 'prefix129'), (3, 3, 'prefix3'), (45, 3, 'prefix45'), (87, 3, 'prefix87')]
+--------------------+
--Query--
CLUSTER clstr_expression USING clstr_expression_minus_a
--Result--
[]
+--------------------+
--Query--
WITH rows AS   (SELECT ctid, lag(a) OVER (ORDER BY ctid) AS la, a FROM clstr_expression) SELECT * FROM rows WHERE la < a
--Result--
[]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[('Index Scan using clstr_expression_upper_b on clstr_expression',), ("  Index Cond: (upper(b) = 'PREFIX3'::text)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[(3, 3, 'prefix3')]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[('Index Scan using clstr_expression_minus_a on clstr_expression',), ("  Index Cond: ((- a) = '-3'::integer)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[(129, 3, 'prefix129'), (3, 3, 'prefix3'), (45, 3, 'prefix45'), (87, 3, 'prefix87')]
+--------------------+
--Query--
CLUSTER clstr_expression USING clstr_expression_upper_b
--Result--
[]
+--------------------+
--Query--
WITH rows AS   (SELECT ctid, lag(b) OVER (ORDER BY ctid) AS lb, b FROM clstr_expression) SELECT * FROM rows WHERE upper(lb) > upper(b)
--Result--
[]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[('Index Scan using clstr_expression_upper_b on clstr_expression',), ("  Index Cond: (upper(b) = 'PREFIX3'::text)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE upper(b) = 'PREFIX3'
--Result--
[(3, 3, 'prefix3')]
+--------------------+
--Query--
EXPLAIN (COSTS OFF) SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[('Index Scan using clstr_expression_minus_a on clstr_expression',), ("  Index Cond: ((- a) = '-3'::integer)",)]
+--------------------+
--Query--
SELECT * FROM clstr_expression WHERE -a = -3 ORDER BY -a, b
--Result--
[(129, 3, 'prefix129'), (3, 3, 'prefix3'), (45, 3, 'prefix45'), (87, 3, 'prefix87')]
+--------------------+
