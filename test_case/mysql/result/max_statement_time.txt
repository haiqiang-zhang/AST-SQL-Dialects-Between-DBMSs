--Query--
SELECT 1 FROM t1 WHERE a IN (SELECT /*+ MAX_EXECUTION_TIME(0) */ 1)
--Result--
[]
+--------------------+
--Query--
SELECT (SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT a FROM t1 WHERE a IN (SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT * FROM t1 WHERE a IN (SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1   WHERE a IN (SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT * FROM t1   WHERE a IN (SELECT a FROM t1 UNION SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1   WHERE a IN (SELECT a FROM t1 UNION SELECT /*+ MAX_EXECUTION_TIME(0) */ a FROM t1)
--Result--
[(10,)]
+--------------------+
--Query--
SELECT * FROM t1 UNION SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1
--Result--
[(10,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1   UNION SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1
--Result--
[(10,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(0) */ * FROM t1
--Result--
[]
+--------------------+
--Query--
SELECT @@max_execution_time
--Result--
[(0,)]
+--------------------+
--Query--
SELECT @@max_execution_time
--Result--
[(0,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(1000) */ SLEEP(5)
--Result--
[(1,)]
+--------------------+
--Query--
LOCK TABLE t1 WRITE
--Result--
[]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(1) */ * FROM t1
--Result--
[]
+--------------------+
--Query--
UNLOCK TABLES
--Result--
[]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(3600000) */ (SELECT SLEEP(0.5)) AS true_if_subquery_is_timedout
--Result--
[(0,)]
+--------------------+
--Query--
PREPARE stmt1 FROM "SELECT *, SLEEP(0.5) FROM t1 WHERE b= 'new_string'"
--Result--
[]
+--------------------+
--Query--
PREPARE stmt2 FROM "SELECT /*+ MAX_EXECUTION_TIME(2) */ *, SLEEP(0.5) FROM t1 WHERE b= 'new_string'"
--Result--
[]
+--------------------+
--Query--
PREPARE stmt3 FROM "SELECT /*+ MAX_EXECUTION_TIME(3600000) */ count(*) FROM t1"
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE stmt1
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE stmt2
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE stmt3
--Result--
[]
+--------------------+
--Query--
SELECT @a
--Result--
[(None,)]
+--------------------+
--Query--
SELECT /*+ MAX_EXECUTION_TIME(3600000) */ * FROM t2
--Result--
[(None, None)]
+--------------------+
--Query--
SELECT @a, @b
--Result--
[(None, None)]
+--------------------+
--Query--
SELECT sleep(5)
--Result--
[(0,)]
+--------------------+
--Query--
SELECT CONVERT(VARIABLE_VALUE, UNSIGNED) INTO @time_set   FROM performance_schema.global_status   WHERE VARIABLE_NAME= 'MAX_EXECUTION_TIME_SET'
--Result--
[]
+--------------------+
--Query--
SELECT 1 AS STATUS FROM performance_schema.global_status   WHERE VARIABLE_NAME= 'MAX_EXECUTION_TIME_SET'         AND CONVERT(VARIABLE_VALUE, UNSIGNED) > @time_set
--Result--
[]
+--------------------+
--Query--
SELECT 1 AS STATUS FROM performance_schema.global_status   WHERE VARIABLE_NAME= 'MAX_EXECUTION_TIME_EXCEEDED'         AND CONVERT(VARIABLE_VALUE, UNSIGNED) > @time_exceeded
--Result--
[]
+--------------------+
--Query--
SELECT 1 AS STATUS FROM performance_schema.global_status   WHERE VARIABLE_NAME= 'MAX_EXECUTION_TIME_SET_FAILED'         AND CONVERT(VARIABLE_VALUE, UNSIGNED) > @time_set_failed
--Result--
[]
+--------------------+
--Query--
SELECT 1 AS STATUS FROM performance_schema.global_status   WHERE VARIABLE_NAME= 'MAX_EXECUTION_TIME_SET_FAILED'         AND CONVERT(VARIABLE_VALUE, UNSIGNED) > @time_set_failed
--Result--
[]
+--------------------+
