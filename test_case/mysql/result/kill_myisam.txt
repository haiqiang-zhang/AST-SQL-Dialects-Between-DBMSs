--Query--
SELECT * FROM t1
--Result--
[]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(0,)]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(0,), (1,)]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(0,), (1,)]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(0,), (1,)]
+--------------------+
--Query--
SELECT * FROM t2
--Result--
[(0,), (1,)]
+--------------------+
--Query--
lock table t1 read
--Result--
[]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "rename table t1 to t2"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "drop table t1"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "create trigger t1_bi before insert on t1 for each row set @a:=1"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "alter table t1 add column j int"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "alter table t1 rename to t2"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "alter table t1 disable keys"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "alter table t1 alter column i set default 100"
--Result--
[(0,)]
+--------------------+
--Query--
unlock tables
--Result--
[]
+--------------------+
--Query--
lock tables t2 read
--Result--
[]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "alter table t2 alter column i set default 100"
--Result--
[(0,)]
+--------------------+
--Query--
unlock tables
--Result--
[]
+--------------------+
--Query--
lock tables t1 read
--Result--
[]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "truncate table t1"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table metadata lock" and         info = "insert into t1 values (1)"
--Result--
[(0,)]
+--------------------+
--Query--
unlock tables
--Result--
[]
+--------------------+
--Query--
lock tables t1 read
--Result--
[]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table flush" and         info = "flush tables"
--Result--
[(0,)]
+--------------------+
--Query--
select count(*) = 1 from information_schema.processlist   where state = "Waiting for table flush" and         info = "select * from t1"
--Result--
[(0,)]
+--------------------+
--Query--
unlock tables
--Result--
[]
+--------------------+
