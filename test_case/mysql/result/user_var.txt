--Query--
select @a - connection_id()
--Result--
[(None,)]
+--------------------+
--Query--
select @b
--Result--
[(None,)]
+--------------------+
--Query--
select * from t2
--Result--
[(1,), (2,)]
+--------------------+
--Query--
select distinct t2.i,@vv1:=if(sv1.i,1,0),@vv2:=if(sv2.i,1,0),@vv3:=if(sv3.i,1,0), @vv1+@vv2+@vv3 from t2 left join t1 as sv1 on sv1.i=t2.i and sv1.v=1 left join t1 as sv2 on sv2.i=t2.i and sv2.v=2 left join t1 as sv3 on sv3.i=t2.i and sv3.v=3
--Result--
[(1, 1, 0, 1, 2.0), (2, 1, 0, 0, 1.0)]
+--------------------+
--Query--
select @vv1,i,v from t1 where i=@vv1
--Result--
[(1, 1, 1), (1, 1, 3)]
+--------------------+
--Query--
select @a:=10,   @b:=1,   @a > @b, @a < @b
--Result--
[(10, 1, 1, 0)]
+--------------------+
--Query--
select @a:="10", @b:="1", @a > @b, @a < @b
--Result--
[('10', '1', 1, 0)]
+--------------------+
--Query--
select @a:=10,   @b:=2,   @a > @b, @a < @b
--Result--
[(10, 2, 0, 1)]
+--------------------+
--Query--
select @a:="10", @b:="2", @a > @b, @a < @b
--Result--
[('10', '2', 1, 0)]
+--------------------+
--Query--
select @a:=1
--Result--
[(1,)]
+--------------------+
--Query--
select @a, @a:=1
--Result--
[(1, 1)]
+--------------------+
--Query--
select @c:=0
--Result--
[(0,)]
+--------------------+
--Query--
select @c
--Result--
[(1,)]
+--------------------+
--Query--
select @c:=0
--Result--
[(0,)]
+--------------------+
--Query--
select @c
--Result--
[(1,)]
+--------------------+
--Query--
select @c:=0
--Result--
[(0,)]
+--------------------+
--Query--
select @c:=@c+1
--Result--
[(1,)]
+--------------------+
--Query--
select @d,(@d:=id),@d from t1
--Result--
[(None, 1, '1')]
+--------------------+
--Query--
select @e,(@e:=d),@e from t1
--Result--
[(None, 2.0, '2')]
+--------------------+
--Query--
select @f,(@f:=c),@f from t1
--Result--
[(None, 'test', 'test')]
+--------------------+
--Query--
select @g,(@g:=c),@g from t1
--Result--
[(None, 'test', 'test')]
+--------------------+
--Query--
select @c, @d, @e, @f
--Result--
[(1, 1, 2.0, 'test')]
+--------------------+
--Query--
select @d:=id, @e:=id, @f:=id, @g:=@id from t1
--Result--
[(1, 1, 1, None)]
+--------------------+
--Query--
select @c, @d, @e, @f, @g
--Result--
[(1, 1, 1, 1, None)]
+--------------------+
--Query--
select @a:=10, @b:=2, @a>@b, @a:="10", @b:="2", @a>@b, @a:=10, @b:=2, @a>@b, @a:="10", @b:="2", @a>@b
--Result--
[(10, 2, 1, '10', '2', 1, 10, 2, 1, '10', '2', 1)]
+--------------------+
--Query--
select @a:=0
--Result--
[(0,)]
+--------------------+
--Query--
select @a, @a:=@a+count(*), count(*), @a from t1 group by i
--Result--
[(0, 1, 1, 0), (0, 2, 2, 0), (0, 3, 3, 0)]
+--------------------+
--Query--
select @a:=0
--Result--
[(0,)]
+--------------------+
--Query--
select @a,@a:="hello",@a,@a:=3,@a,@a:="hello again" from t1 group by i
--Result--
[(0, 'hello', 0, 3, 0, 'hello again'), (0, 'hello', 0, 3, 0, 'hello again'), (0, 'hello', 0, 3, 0, 'hello again')]
+--------------------+
--Query--
select @a,@a:="hello",@a,@a:=3,@a,@a:="hello again" from t1 group by i
--Result--
[('hello again', 'hello', 'hello again', 3, 'hello again', 'hello again'), ('hello again', 'hello', 'hello again', 3, 'hello again', 'hello again'), ('hello again', 'hello', 'hello again', 3, 'hello again', 'hello again')]
+--------------------+
--Query--
select charset(@a),collation(@a),coercibility(@a)
--Result--
[('utf8mb4', 'utf8mb4_0900_ai_ci', 2)]
+--------------------+
--Query--
select @a=_latin2'TEST'
--Result--
[(0,)]
+--------------------+
--Query--
select @a=_latin2'TEST'
--Result--
[(0,)]
+--------------------+
--Query--
select charset(@a:=_latin2'test')
--Result--
[('latin2',)]
+--------------------+
--Query--
select collation(@a:=_latin2'test')
--Result--
[('latin2_general_ci',)]
+--------------------+
--Query--
select coercibility(@a:=_latin2'test')
--Result--
[(2,)]
+--------------------+
--Query--
select (@a:=_latin2'test' collate latin2_bin) = _latin2'TEST'
--Result--
[(0,)]
+--------------------+
--Query--
select (@a:=_latin2'test' collate latin2_bin) = _latin2'TEST' collate latin2_general_ci
--Result--
[(1,)]
+--------------------+
--Query--
select FIELD( @var,'1it','Hit') as my_column
--Result--
[(0,)]
+--------------------+
--Query--
select @@local.max_allowed_packet
--Result--
[(67108864,)]
+--------------------+
--Query--
select @@session.max_allowed_packet
--Result--
[(67108864,)]
+--------------------+
--Query--
select @@global.max_allowed_packet
--Result--
[(67108864,)]
+--------------------+
--Query--
select @@max_allowed_packet
--Result--
[(67108864,)]
+--------------------+
--Query--
select @@Max_Allowed_Packet
--Result--
[(67108864,)]
+--------------------+
--Query--
select @@version
--Result--
[('8.3.0',)]
+--------------------+
--Query--
select @@global.version
--Result--
[('8.3.0',)]
+--------------------+
--Query--
select @a
--Result--
[('test',)]
+--------------------+
--Query--
SELECT * FROM bigfailure
--Result--
[(18446744071710965857,)]
+--------------------+
--Query--
select * from (SELECT afield FROM bigfailure) as b
--Result--
[(18446744071710965857,)]
+--------------------+
--Query--
select * from bigfailure where afield = (SELECT afield FROM bigfailure)
--Result--
[(18446744071710965857,)]
+--------------------+
--Query--
select * from bigfailure where afield = 18446744071710965857
--Result--
[(18446744071710965857,)]
+--------------------+
--Query--
select * from bigfailure where afield = 18446744071710965856+1
--Result--
[(18446744071710965857,)]
+--------------------+
--Query--
SELECT @a
--Result--
[('test',)]
+--------------------+
--Query--
SELECT @a
--Result--
[('test',)]
+--------------------+
--Query--
SELECT @a
--Result--
[('test',)]
+--------------------+
--Query--
select @var
--Result--
[(None,)]
+--------------------+
--Query--
select @var
--Result--
[(None,)]
+--------------------+
--Query--
select @i := f1 as j from t1 order by 1
--Result--
[(1,), (2,)]
+--------------------+
--Query--
select @rownum := @rownum + 1 as `row`,  @rank := IF(@prev_score!=a, @rownum, @rank) as `rank`,  @prev_score := a as score from t1 order by score desc
--Result--
[(None, None, 5), (None, None, 4), (None, None, 4), (None, None, 3), (None, None, 2), (None, None, 2), (None, None, 2), (None, None, 1)]
+--------------------+
--Query--
select if(b=@var, 999, b) , @var := b from t1  order by b
--Result--
[(10, 10), (999, 10), (30, 30)]
+--------------------+
--Query--
select @lastid != id, @lastid, @lastid := id from t1
--Result--
[(None, None, 2), (1, '2', 3), (0, '3', 3), (1, '3', 4)]
+--------------------+
--Query--
select @lastid != id, @lastid, @lastid := id from t1
--Result--
[(1, 4, 2), (1, 2, 3), (0, 3, 3), (1, 3, 4)]
+--------------------+
--Query--
SELECT a, b INTO @a, @b FROM t1 WHERE a=2 AND b=3 GROUP BY a, b
--Result--
[]
+--------------------+
--Query--
SELECT @a, @b
--Result--
[(2, 3)]
+--------------------+
--Query--
SELECT a, b FROM t1 WHERE a=2 AND b=3 GROUP BY a, b
--Result--
[(2, 3)]
+--------------------+
--Query--
SELECT (@a:=(SELECT @a:=1 FROM t1 LIMIT 1)) AND COUNT(1) FROM t1 GROUP BY @a
--Result--
[(1,), (1,)]
+--------------------+
--Query--
SELECT IF(   @v:=LEAST((SELECT 1 FROM t1 t2 LEFT JOIN t1 ON (@v) GROUP BY t1.a), a),   count(*), 1)  FROM t1 GROUP BY a LIMIT 1
--Result--
[(1,)]
+--------------------+
--Query--
select @v:=@v:=sum(1) from dual
--Result--
[(1.0,)]
+--------------------+
--Query--
SELECT (@v:=a) <> (@v:=1) FROM t1
--Result--
[(1,)]
+--------------------+
--Query--
SELECT * FROM t1
--Result--
[(1,), (2,), (3,)]
+--------------------+
--Query--
SELECT f1, f2 FROM t1 ORDER BY f2
--Result--
[('1', 3), (None, 4)]
+--------------------+
--Query--
SELECT GROUP_CONCAT(@bug12408412 ORDER BY 1) INTO @bug12408412
--Result--
[]
+--------------------+
--Query--
SELECT DISTINCT @a:=MIN(t1.a) FROM t1, t1 AS t2 GROUP BY @b:=(SELECT COUNT(*) > t2.a)
--Result--
[(1,)]
+--------------------+
--Query--
SELECT DISTINCT POW(COUNT(*), @a:=(SELECT 1 FROM t1 LEFT JOIN t1 AS t2 ON @a)) AS b FROM t1 GROUP BY a
--Result--
[(1.0,)]
+--------------------+
--Query--
SELECT @a
--Result--
[(1,)]
+--------------------+
--Query--
SELECT @var
--Result--
[(30,)]
+--------------------+
--Query--
SELECT t1.a, t2.a, t3.a, (@var1:= @var1+0) AS var FROM t1      LEFT JOIN t2 ON t1.a=t2.a AND t2.a < @var1      LEFT JOIN t3 ON t1.a=t3.a AND t3.a < @var1
--Result--
[(1, None, None, None), (2, None, None, None), (3, None, None, None), (4, None, None, None), (5, None, None, None), (6, None, None, None), (7, None, None, None), (8, None, None, None), (9, None, None, None), (10, None, None, None)]
+--------------------+
--Query--
select @X234567890123456789012345678901234567890123456789012345678901234
--Result--
[(None,)]
+--------------------+
--Query--
select @X2345678901234567890123456789012345678901234567890123456789012345
--Result--
[(None,)]
+--------------------+
--Query--
select @``
--Result--
[(None,)]
+--------------------+
--Query--
select @`endswithspace `
--Result--
[(None,)]
+--------------------+
--Query--
SELECT 1 NOT IN (SELECT 1 FROM t1 as t1 GROUP BY 1 LIKE (SELECT 1 FROM t1 as t2)) AS col
--Result--
[(1,)]
+--------------------+
--Query--
SELECT 1 NOT IN (SELECT 1 FROM t1 as t1 ORDER BY 1 LIKE (SELECT 1 FROM t1 as t2)) AS col
--Result--
[(1,)]
+--------------------+
--Query--
SELECT (@x:=b) FROM t1
--Result--
[('abcd',)]
+--------------------+
--Query--
SELECT * FROM t1 WHERE b = (SELECT (@x:=1) FROM t1) OR a = @x
--Result--
[]
+--------------------+
--Query--
SELECT (@x:=a) FROM t1
--Result--
[('a',)]
+--------------------+
--Query--
SELECT d < 00010101000000.0 AS a FROM t1
--Result--
[(0,)]
+--------------------+
--Query--
SELECT d < @tsn AS a FROM t1
--Result--
[(None,)]
+--------------------+
--Query--
PREPARE s1 FROM 'SELECT * FROM numbers WHERE ui=?'
--Result--
[]
+--------------------+
--Query--
PREPARE s2 FROM 'SELECT * FROM numbers WHERE si=?'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s1
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s2
--Result--
[]
+--------------------+
--Query--
PREPARE s1 FROM 'SELECT HEX(vc_utf8mb4) FROM strings WHERE vc_ascii = ?'
--Result--
[]
+--------------------+
--Query--
PREPARE s2 FROM 'SELECT HEX(vc_utf8mb4) FROM strings WHERE vc_latin1 = ?'
--Result--
[]
+--------------------+
--Query--
PREPARE s3 FROM 'SELECT HEX(vc_utf8mb4) FROM strings WHERE vc_utf8mb4 = ?'
--Result--
[]
+--------------------+
--Query--
PREPARE s4 FROM 'SELECT HEX(vc_utf8mb4) FROM strings WHERE vc_utf16 = ?'
--Result--
[]
+--------------------+
--Query--
PREPARE s5 FROM 'SELECT HEX(vc_utf8mb4) FROM strings WHERE vc_utf32 = ?'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s1
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s2
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s3
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s4
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s5
--Result--
[]
+--------------------+
--Query--
SELECT @maxint + 0e0
--Result--
[(None,)]
+--------------------+
--Query--
SELECT 18446744073709551615 + 0e0
--Result--
[(1.8446744073709552e+19,)]
+--------------------+
--Query--
SELECT @maxint + 0.0
--Result--
[(None,)]
+--------------------+
--Query--
SELECT 18446744073709551615 + 0.0
--Result--
[(1.8446744073709552e+19,)]
+--------------------+
--Query--
PREPARE s FROM 'SELECT 0e0 + ?'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s
--Result--
[]
+--------------------+
--Query--
PREPARE s FROM 'SELECT 0.0 + ?'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s
--Result--
[]
+--------------------+
--Query--
PREPARE s FROM 'SELECT 0 + ?'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s
--Result--
[]
+--------------------+
--Query--
PREPARE s FROM 'SELECT concat(?,"")'
--Result--
[]
+--------------------+
--Query--
DEALLOCATE PREPARE s
--Result--
[]
+--------------------+
--Query--
SELECT 1 FROM t1 WHERE @f<>'3761-03-28' XOR (@f:='5570-12-30') > a
--Result--
[]
+--------------------+
--Query--
SELECT AVG((@e:= a)) FROM t
--Result--
[(None,)]
+--------------------+
--Query--
SELECT (@a:=a) FROM t1 GROUP BY 1
--Result--
[(1,)]
+--------------------+
