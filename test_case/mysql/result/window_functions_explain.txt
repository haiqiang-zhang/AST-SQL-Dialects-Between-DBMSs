--Query--
SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t
--Result--
[(1, 1, 2.0), (1, 4, 7.0), (1, 2, 10.0), (1, 4, 15.0)]
+--------------------+
--Query--
SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t
--Result--
[(1, 4, 5.0), (1, 4, 10.0), (1, 2, 13.0), (1, 1, 15.0)]
+--------------------+
--Query--
SELECT  sex, AVG(id) AS uids, RANK() OVER w `rank` FROM t1 u, t2    WHERE t2.user_id = u.id GROUP BY sex    WINDOW w AS (ORDER BY AVG(id) DESC)    ORDER BY `rank` DESC
--Result--
[('M', 2.3333, 2), ('F', 3.25, 1)]
+--------------------+
--Query--
select id, FIRST_VALUE(id) OVER (ROWS UNBOUNDED PRECEDING) FROM t1
--Result--
[(1, 1), (2, 1), (3, 1), (4, 1), (5, 1), (10, 1), (11, 1), (10, 1), (None, 1)]
+--------------------+
--Query--
SELECT AVG(a * (SELECT a*d FROM u)) OVER  (PARTITION BY (SELECT a+d FROM u) ORDER BY (SELECT d FROM u)) FROM t
--Result--
[(None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,), (None,)]
+--------------------+
--Query--
SELECT ROW_NUMBER() OVER () AS rn    FROM ( t1 LEFT JOIN t2 ON (t2.a <= t1 . a ) )    WHERE t1.a = 3    GROUP BY t1.a
--Result--
[]
+--------------------+
--Query--
SELECT t1.a, SUM(t2.b) OVER(ORDER BY t1.a) FROM t1, t1 AS t2 ORDER BY t2.a
--Result--
[(1, 1.0)]
+--------------------+
--Query--
SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t GROUP BY i ORDER BY i
--Result--
[(1, 1297.0), (1, 1296.0), (1, 1294.0), (1, 1291.0), (1, 1287.0), (1, 1282.0), (1, 1276.0), (1, 1268.0), (1, 1259.0), (1, 1249.0), (1, 1237.0), (1, 1221.0), (1, 1202.0), (1, 1182.0), (1, 1153.0), (1, 1121.0), (1, 1082.0), (1, 1033.0), (1, 974.0), (1, 895.0), (1, 796.0), (1, 677.0), (1, 518.0), (1, 319.0)]
+--------------------+
--Query--
SELECT REGEXP_SUBSTR(TRACE, 'join_optimization.*', 1, 1, 'n') FROM INFORMATION_SCHEMA.OPTIMIZER_TRACE
--Result--
[]
+--------------------+
