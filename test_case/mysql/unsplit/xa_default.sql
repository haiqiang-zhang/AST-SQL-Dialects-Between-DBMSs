CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (10);
SELECT * FROM t1;
INSERT INTO t1 VALUES (20);
SELECT * FROM t1;
INSERT INTO t1 VALUES (30);
CREATE TABLE t2 (a INT);
INSERT INTO t1 VALUES (40);
INSERT INTO t1 VALUES (42);
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT, c VARCHAR(20), PRIMARY KEY(a));
INSERT INTO t1 VALUES (1, 1, 'a');
INSERT INTO t1 VALUES (2, 2, 'b');
UPDATE t1 SET c = 'aa' WHERE a = 1;
UPDATE t1 SET c = 'bb' WHERE a = 2;
UPDATE t1 SET c = 'aa' WHERE a = 1;
SELECT COUNT(*) FROM t1;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES(1);
SELECT @@autocommit;
INSERT INTO t1 VALUES(1);
DROP TABLE t1;
CREATE TABLE t1(a INT, KEY(a));
INSERT INTO t1 VALUES(1),(2);
UPDATE t1 SET a=3 WHERE a=1;
UPDATE t1 SET a=4 WHERE a=2;
UPDATE t1 SET a=5 WHERE a=1;
UPDATE t1 SET a=3 WHERE a=1;
UPDATE t1 SET a=4 WHERE a=2;
UPDATE t1 SET a=5 WHERE a=1;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT, PRIMARY KEY(a));
INSERT INTO t1 VALUES (1, 1), (2, 2);
UPDATE t1 SET b= 3 WHERE a=1;
UPDATE t1 SET b=4 WHERE a=2;
UPDATE t1 SET b=6 WHERE a=2;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1);
SELECT * FROM t1;
INSERT INTO t1 VALUES (2);
SELECT * FROM t1;
INSERT INTO t1 VALUES (2);
SELECT * FROM t1;
UPDATE t1 SET a=1 WHERE a=2;
DROP TABLE t1;
CREATE TABLE t1 (a INT) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (1);
DELETE FROM t1;
SELECT a FROM t2 WHERE a=1 FOR SHARE;
SELECT COUNT(*) = 1 FROM information_schema.innodb_trx
  WHERE trx_query = 'SELECT a FROM t1 WHERE a=1 FOR UPDATE' AND
  trx_operation_state = 'starting index read' AND
  trx_state = 'LOCK WAIT';
SELECT a FROM t2 WHERE a=1 FOR UPDATE;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1 (a INT) ENGINE=INNODB;
INSERT INTO t1 VALUES (1);
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1(i INT);
INSERT INTO t1 VALUES (1);
INSERT INTO t1 VALUES (2);
INSERT INTO t1 VALUES (3);
INSERT INTO t1 VALUES (4);
SELECT * FROM t1 ORDER BY i;
DROP TABLE t1;
CREATE TABLE asd (a INT);
INSERT INTO asd VALUES (1);
UNLOCK TABLES;
INSERT INTO asd VALUES (1);
UNLOCK TABLES;
DROP TABLE asd;
CREATE TABLE t1 (a INT) ENGINE=INNODB;
INSERT INTO t1 VALUES (1);
DROP TABLE t1;
CREATE TEMPORARY TABLE temp1(i INT);
INSERT INTO temp1 VALUES (1),(2),(3);
CREATE TEMPORARY TABLE temp2(i INT);
SELECT * FROM temp1;
INSERT INTO temp1 VALUES (1),(2),(3);
DROP TEMPORARY TABLE temp1;
CREATE TABLE t1(c1 VARCHAR(128));
INSERT INTO t1 VALUES ('Inserted by xa1');
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa2');
INSERT INTO t1 VALUES ('Inserted by xa5');
SELECT * FROM t1;
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa6');
INSERT INTO t1 VALUES ('Inserted after prepare');
SELECT * FROM t1;
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa7');
CREATE TABLE t2(i INT);
INSERT INTO t2 VALUES (1), (2), (3);
ALTER TABLE t2 ADD COLUMN j INT;
INSERT INTO t2 VALUES (4,4),(5,5);
SELECT * FROM t1;
SELECT * FROM t2;
DROP TABLE t2;
INSERT INTO t1 VALUES ('Inserted by xa8');
INSERT INTO t1 VALUES ('Inserted by normal transaction');
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa10');
INSERT INTO t1 VALUES ('Inserted in savepoint s1');
INSERT INTO t1 VALUES ('Inserted by normal transaction');
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa11');
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa3');
SELECT * FROM t1;
INSERT INTO t1 VALUES ('Inserted by xa4');
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1(d VARCHAR(128));
INSERT INTO t1 VALUES ('Row 1'), ('Row 2');
SELECT * FROM t1;
SELECT d FROM t1;
DROP TABLE t1;
CREATE TABLE t7(i INT);
INSERT INTO t7 VALUES (1),(2),(3);
SELECT * FROM t7;
DROP TABLE t7;
CREATE TABLE t8(i INT);
INSERT INTO t8 VALUES (1),(2),(3);
SELECT * FROM t8;
DROP TABLE t8;
