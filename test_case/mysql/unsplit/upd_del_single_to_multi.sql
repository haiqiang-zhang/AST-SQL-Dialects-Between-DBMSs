create table t1(a int) engine=innodb;
create table t2(a int) engine=innodb;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
insert into t2 values(100),(11),(120);
update t1 set t1.a=3 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
delete from t1 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
delete from t1;
insert into t1 values(10),(11),(12);
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
alter table t1 engine=myisam;
alter table t2 engine=myisam;
update t1 set t1.a=3 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
delete from t1 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
alter table t1 engine=memory;
alter table t2 engine=memory;
update t1 set t1.a=3 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
delete from t1 where a in (select a from t2);
select * from t1;
delete from t1;
insert into t1 values(10),(11),(12),(13),(14),(15),(16);
alter table t1 engine=innodb;
alter table t1 engine=myisam;
drop table t1,t2;
