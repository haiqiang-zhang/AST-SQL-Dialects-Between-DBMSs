SELECT * FROM t1;
SELECT * FROM t2;
ALTER TABLE t1 ADD COLUMN c INT;
ALTER TABLE t2 ADD COLUMN c INT;
INSERT INTO t2 VALUES (31, 32, 33);
INSERT INTO t3 (a) VALUES (2);
SELECT * FROM t1;
SELECT * FROM t2;
DROP TABLE t1;
DROP TABLE t2;
DROP TABLE t3;
CREATE TABLE t1 (a INT);
INSERT INTO t1(a) VALUES (1);
UPDATE t1 SET a = a * 10;
SELECT @a, @c, @b, @d;
SELECT a FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE PROCEDURE p1()
  SELECT * FROM t1;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 0;
ALTER TABLE t1 DROP COLUMN a;
ALTER TABLE t1 CHANGE COLUMN b b VARCHAR(255) DEFAULT 'n/a';
DELETE FROM t1;
INSERT INTO t1 VALUES (b), ('hello');
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE PROCEDURE p1()
  SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE PROCEDURE p1()
  SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (b VARCHAR(10), c VARCHAR(10));
INSERT INTO t1 VALUES ('a', 'b'), ('c', 'd');
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE VIEW v1 AS SELECT 1, 2, 3;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
ALTER VIEW v1 AS SELECT 1, 2, 3, 4, 5;
ALTER VIEW v1 AS SELECT 1, 5;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP VIEW v1;
CREATE VIEW v1 AS SELECT * FROM t1;
DROP PROCEDURE p1;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
ALTER TABLE t1 ADD COLUMN c INT DEFAULT 3;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT, c INT);
INSERT INTO t1 VALUES (1, 2, 3);
DROP VIEW v1;
CREATE VIEW v1 AS SELECT b, c FROM t1;
DROP PROCEDURE p1;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
ALTER TABLE t1 DROP COLUMN a;
ALTER TABLE t1 DROP COLUMN b;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT, c INT);
INSERT INTO t1 VALUES (1, 2, 3);
DROP VIEW v1;
CREATE VIEW v1 AS SELECT b, c FROM t1;
DROP PROCEDURE p1;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
ALTER TABLE t1 CHANGE COLUMN b b VARCHAR(255) DEFAULT 'n/a';
DELETE FROM t1;
INSERT INTO t1(a, c) VALUES (10, 30);
DROP VIEW v1;
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE VIEW v1 AS SELECT 1, 2, 3;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
DROP VIEW v1;
CREATE VIEW v1 AS SELECT 4, 5, 6;
DROP VIEW v1;
DROP PROCEDURE p1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE VIEW v1 AS SELECT * FROM t1;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
DROP TABLE t1;
CREATE TABLE t1(a VARCHAR(255), b VARCHAR(255));
INSERT INTO t1 VALUES ('a', 'b'), ('c', 'd');
DROP VIEW v1;
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT * FROM t1;
ALTER TABLE t1 ADD COLUMN c INT DEFAULT 3;
ALTER TABLE t1 DROP COLUMN a;
ALTER TABLE t1 CHANGE COLUMN b b VARCHAR(255) DEFAULT 'n/a';
INSERT INTO t1(c) VALUES (4);
DROP TEMPORARY TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP TEMPORARY TABLE t1;
CREATE TEMPORARY TABLE t1(a VARCHAR(255), b VARCHAR(255), c VARCHAR(255));
INSERT INTO t1 VALUES ('aa', 'bb', 'cc');
DROP TEMPORARY TABLE t1;
DROP PROCEDURE p1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT a, b FROM t1;
ALTER TABLE t1 DROP COLUMN b;
DROP PROCEDURE p1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT a, b FROM t1;
ALTER TABLE t1 DROP COLUMN b;
DROP PROCEDURE p1;
DROP TEMPORARY TABLE t1;
CREATE VIEW v1 AS SELECT 1 AS a, 2 AS b;
CREATE PROCEDURE p1() SELECT a, b FROM v1;
ALTER VIEW v1 AS SELECT 1 AS a;
DROP PROCEDURE p1;
DROP VIEW v1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT a, b FROM t1;
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE VIEW v1 AS SELECT 1 AS a, 2 AS b;
CREATE PROCEDURE p1() SELECT a, b FROM v1;
DROP VIEW v1;
DROP PROCEDURE p1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT a, b FROM t1;
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE TABLE t1(a INT);
CREATE TABLE t2(a INT);
SELECT * FROM t1;
INSERT INTO t2 VALUES (1);
SELECT GET_LOCK('m1', 10000);
SELECT * FROM t1;
SELECT GET_LOCK('m1', 0);
DROP TABLE t1;
SELECT RELEASE_LOCK('m1');
DROP TABLE t2;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP TABLE t1;
CREATE VIEW t1 AS SELECT 1 AS a, 2 AS b;
DROP PROCEDURE p1;
DROP VIEW t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP PROCEDURE p1;
DROP TEMPORARY TABLE t1;
CREATE VIEW t1 AS SELECT 1 AS a, 2 AS b;
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP VIEW t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP PROCEDURE p1;
DROP TABLE t1;
CREATE VIEW t1 AS SELECT 1 AS a, 2 AS b;
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP VIEW t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP PROCEDURE p1;
DROP TEMPORARY TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP TEMPORARY TABLE t1;
CREATE VIEW t1 AS SELECT 1 AS a, 2 AS b;
DROP PROCEDURE p1;
DROP VIEW t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
CREATE PROCEDURE p1() SELECT * FROM t1;
DROP TEMPORARY TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
DROP PROCEDURE p1;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
UPDATE t1 SET a = 3, b = 4;
SELECT @x, @y;
ALTER TABLE t1 ADD COLUMN c INT DEFAULT -1;
UPDATE t1 SET a = 5, b = 6;
SELECT @x, @y;
ALTER TABLE t1 CHANGE COLUMN a a VARCHAR(255);
UPDATE t1 SET a = CONCAT('xxx_', a), b = 7;
SELECT @x, @y;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
UPDATE t1 SET a = 3, b = 4;
ALTER TABLE t1 CHANGE COLUMN a a2 INT;
UPDATE t1 SET a2 = 5, b = 6;
ALTER TABLE t1 CHANGE COLUMN a2 a INT;
ALTER TABLE t1 CHANGE COLUMN b b2 INT;
UPDATE t1 SET a = 5, b2 = 6;
DROP TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TEMPORARY TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TEMPORARY TABLE t1;
CREATE VIEW v1 AS SELECT 1 AS a, 2 AS b;
SELECT a, b FROM v1;
DROP VIEW v1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT a, b FROM t1;
DROP TEMPORARY TABLE t1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
INSERT INTO t1 VALUES (2, 3);
SELECT a, b FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
INSERT INTO t1 VALUES (2, 3);
SELECT a, b FROM t1;
DROP TEMPORARY TABLE t1;
CREATE VIEW v1 AS SELECT 1 AS a, 2 AS b;
SELECT a, b FROM v1;
DROP VIEW v1;
CREATE TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT * FROM t1;
SELECT * FROM t1;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT, b INT);
INSERT INTO t1 VALUES (1, 2);
SELECT * FROM t1;
SELECT * FROM t1;
DROP TEMPORARY TABLE t1;
CREATE VIEW v1 AS SELECT 1 AS a, 2 AS b;
SELECT * FROM v1;
SELECT * FROM v1;
DROP VIEW v1;
SELECT 2;
SELECT 1;
SELECT 2;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
UPDATE t1 SET a = 0;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 1;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (0);
UPDATE t1 SET a = 1;
UPDATE t1 SET a = 1;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 1;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (0);
UPDATE t1 SET a = 1;
UPDATE t1 SET a = 1;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 1;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (0);
UPDATE t1 SET a = 3;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
CREATE TABLE t2(a INT);
INSERT INTO t1 VALUES (1);
INSERT INTO t2 VALUES (1);
SELECT @x;
UPDATE t1 SET a = 3;
ALTER TABLE t2 ADD COLUMN b INT DEFAULT 3;
SELECT @x;
ALTER TABLE t2 DROP COLUMN a;
SELECT @x;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
CREATE TABLE t2(a INT);
INSERT INTO t2 VALUES (1);
SELECT @x;
UPDATE t2 SET a = 10;
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
UPDATE t2 SET a = 20;
ALTER TABLE t1 DROP COLUMN a;
UPDATE t2 SET a = 30;
DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TEMPORARY TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
ALTER TABLE t1 DROP COLUMN a;
DROP TEMPORARY TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
ALTER TABLE t1 ADD COLUMN b INT DEFAULT 2;
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
ALTER TABLE t1 ADD COLUMN b INT;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE VIEW v1 AS SELECT * FROM t1;
CREATE PROCEDURE p1()
  SELECT * FROM v1;
ALTER TABLE t1 ADD COLUMN (b INT);
ALTER VIEW v1 AS SELECT * FROM t1;
DROP VIEW v1;
DROP TABLE t1;
DROP PROCEDURE p1;
CREATE TEMPORARY TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE PROCEDURE p1()
  SELECT * FROM t1;
ALTER TABLE t1 ADD COLUMN (b INT);
ALTER TABLE t1 DROP COLUMN a;
DROP PROCEDURE p1;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
ALTER TABLE t1 ADD COLUMN (b INT);
ALTER TABLE t1 DROP COLUMN a;
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
DROP TABLE t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
CREATE VIEW v1 AS SELECT * FROM t1;
ALTER TABLE t1 ADD COLUMN (b INT);
ALTER VIEW v1 AS SELECT * FROM t1;
DROP TABLE t1;
DROP VIEW v1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
DROP TABLE t1;
CREATE TEMPORARY TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
DROP TABLE t1;
CREATE TABLE t2 (a INT);
INSERT INTO t2 VALUES (1), (2);
CREATE VIEW t1 AS SELECT * FROM t2;
DROP TABLE t2;
DROP VIEW t1;
CREATE TABLE t1 (a INT);
INSERT INTO t1 VALUES (1), (2);
SELECT * FROM t1;
ALTER TABLE t1 ADD COLUMN (b INT);
INSERT INTO t1 VALUES (3, 4);
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (3, 4);
SELECT * FROM t1;
ALTER TABLE t1 DROP COLUMN b;
INSERT INTO t1 VALUES (5);
SELECT * FROM t1;
DROP TABLE t1;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (3, 4);
SELECT * FROM t1;
ALTER TABLE t1 DROP COLUMN a;
INSERT INTO t1 VALUES (5);
DROP TABLE t1;
CREATE TABLE t1(a INT);
INSERT INTO t1 VALUES (1);
CREATE TABLE t2(a INT);
INSERT INTO t2 VALUES (1);
CREATE VIEW v1 AS SELECT a FROM t1;
UPDATE t2 SET a = 10;
SELECT * FROM v1;
SELECT @x;
ALTER TABLE t1 CHANGE COLUMN a a CHAR(2);
UPDATE t2 SET a = 20;
SELECT * FROM v1;
SELECT @x;
DROP TABLE t1;
DROP TABLE t2;
DROP VIEW v1;
